import{y as D,r as o,i as T,f as j,Y as P,j as e,Q as m,a1 as b,a2 as f,R as M,V as x,D as E,h as $,aN as B,e as V,q as z,P as O,g as Y,ad as C,T as U,m as A,v as H}from"./main-CIF9t6XU.js";import{C as K}from"./credit-card-CUHlnvDh.js";import{M as I}from"./MeldBankConnect-e5HdpqmT.js";import{C as W}from"./clock-chpOVBbq.js";import{A as L}from"./arrow-down-right-Baj_H6uY.js";import{A as R}from"./arrow-up-right-dPMhnAC_.js";import{P as F}from"./plus-0mQGkKq9.js";import{L as q}from"./loader-circle-bHa5NdPL.js";import{C as Q}from"./circle-check-big-AqWX4NIq.js";import"./info-ClfB4HWb.js";function J(){const{currentUser:s}=D(),[t,a]=o.useState(null),[n,l]=o.useState(!0),[r,c]=o.useState(null),[d,u]=o.useState(null),p=async()=>{var h;if(!(s!=null&&s.uid)){c("No user found"),l(!1);return}l(!0),c(null);try{const N=T(j,"users",s.uid),y=await P(N);if(y.exists()){const v=y.data();a(v.dwollaBalance||0),u(((h=v.lastBalanceUpdate)==null?void 0:h.toDate())||new Date)}else c("User data not found")}catch(N){console.error("Error fetching balance:",N),c("Failed to fetch balance")}finally{l(!1)}};return o.useEffect(()=>{p()},[s==null?void 0:s.uid]),s!=null&&s.uid?e.jsxs(m,{className:"bg-gray-900/40 border-purple-500/20",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(f,{className:"text-white font-medium",children:"Bankroll Balance"}),e.jsx("button",{onClick:p,disabled:n,className:"p-2 hover:bg-purple-900/30 rounded-full transition-colors","aria-label":"Refresh balance",children:e.jsx(M,{className:`h-4 w-4 text-purple-200 ${n?"animate-spin":""}`})})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(E,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[n?e.jsx("div",{className:"text-2xl font-bold text-white animate-pulse",children:"Loading..."}):r?e.jsx("div",{className:"text-sm text-red-400",children:r}):e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(t||0).toFixed(2)]}),d&&!r&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Last updated: ",d.toLocaleTimeString()]})]})]})})]}):null}class Z{constructor(){this.baseURL="https://api-sandbox.dwolla.com",this.tokenURL=`${this.baseURL}/token`,this.apiKey=void 0,this.apiSecret=void 0,this.accessToken=null,this.tokenExpirationDate=null}async authenticate(){try{if(this.accessToken&&this.tokenExpirationDate>new Date(Date.now()+6e4)){console.log("Using existing token, expires at:",this.tokenExpirationDate);return}console.log("Requesting new access token...");const t=`${this.apiKey}:${this.apiSecret}`,a=btoa(t),n=await fetch(this.tokenURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:"grant_type=client_credentials"});if(!n.ok)throw new Error(`Authentication failed: ${n.statusText}`);const l=await n.json();this.accessToken=l.access_token,this.tokenExpirationDate=new Date(Date.now()+l.expires_in*1e3),console.log("New token obtained, expires in:",l.expires_in,"seconds")}catch(t){throw console.error("Authentication error:",t),t}}async createDwollaCustomer(t){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const a=new Date(t.birthday).toISOString().split("T")[0],n={firstName:t.firstName,lastName:t.lastName,email:t.email,type:"personal",dateOfBirth:a,address1:t.address1,city:t.city,state:t.state,postalCode:t.postalCode,ssn:t.ssn},l=await fetch(`${this.baseURL}/customers`,{method:"POST",headers:{Accept:"application/vnd.dwolla.v1.hal+json","Content-Type":"application/json",Authorization:`Bearer ${this.accessToken}`},body:JSON.stringify(n)});if(!l.ok){const d=await l.json();throw new Error(d.message||"Failed to create Dwolla customer")}const c=l.headers.get("Location").split("/").pop();return j&&await this.storeDwollaCustomerId(t.id,c),c}catch(a){throw console.error("Error creating Dwolla customer:",a),a}}async storeDwollaCustomerId(t,a){if(!j){console.warn("Skipping Dwolla customer ID storage in development mode");return}try{const n=T(j,"users",t);await $(n,{dwollaCustomerId:a,dwollaVerificationStatus:"pending",dwollaBalance:0,bonusBalance:0,lastBalanceUpdate:B(),lastUpdated:B()})}catch(n){throw console.error("Error storing Dwolla customer ID:",n),n}}async fetchBalance(t){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const a=await fetch(`${this.baseURL}/customers/${t}/funding-sources`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!a.ok)throw new Error("Failed to fetch funding sources");const l=(await a.json())._embedded["funding-sources"].find(d=>d.type==="balance");if(!l)throw new Error("No balance account found");const r=await fetch(`${this.baseURL}/funding-sources/${l.id}/balance`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw new Error("Failed to fetch balance");const c=await r.json();return parseFloat(c.balance.value)}catch(a){throw console.error("Error fetching balance:",a),a}}async getUserByDwollaId(t){if(!j)return null;try{const a=V(j,"users"),n=z(a,O("dwollaCustomerId","==",t)),l=await Y(n);return l.empty?null:l.docs[0].data()}catch(a){return console.error("Error getting user by Dwolla ID:",a),null}}async updateUserBalance(t,a){if(!j){console.warn("Skipping balance update in development mode");return}try{const n=T(j,"users",t),l=await P(n);if(!l.exists())throw new Error("User document not found");l.data().dwollaBalance!==a&&await $(n,{dwollaBalance:a,lastBalanceUpdate:B()})}catch(n){throw console.error("Error updating user balance:",n),n}}async listFundingSources(t){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const a=await fetch(`${this.baseURL}/customers/${t}/funding-sources`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!a.ok)throw new Error("Failed to fetch funding sources");return(await a.json())._embedded["funding-sources"]}catch(a){throw console.error("Error listing funding sources:",a),a}}}const G=new Z;function X(){const{currentUser:s}=D(),[t,a]=o.useState(!1),[n,l]=o.useState(null),[r,c]=o.useState({firstName:"",lastName:"",email:(s==null?void 0:s.email)||"",birthday:"",ssn:"",address1:"",city:"",state:"",postalCode:""}),d=async p=>{p.preventDefault(),a(!0),l(null);try{await G.createDwollaCustomer({...r,id:s.uid}),window.location.reload()}catch(h){console.error("Error creating Dwolla customer:",h),l(h.message||"Failed to create Dwolla account")}finally{a(!1)}},u=p=>{c(h=>({...h,[p.target.name]:p.target.value}))};return s!=null&&s.dwollaCustomerId?null:e.jsxs(m,{className:"bg-gray-900/40 border-purple-500/20",children:[e.jsx(b,{children:e.jsx(f,{className:"text-white",children:"Setup Dwolla Account"})}),e.jsx(x,{children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:u,required:!0,disabled:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white opacity-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"birthday",value:r.birthday,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"SSN"}),e.jsx("input",{type:"password",name:"ssn",value:r.ssn,onChange:u,required:!0,placeholder:"123-45-6789",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Street Address"}),e.jsx("input",{type:"text",name:"address1",value:r.address1,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"City"}),e.jsx("input",{type:"text",name:"city",value:r.city,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"State"}),e.jsx("input",{type:"text",name:"state",value:r.state,onChange:u,required:!0,maxLength:"2",placeholder:"CA",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"postalCode",value:r.postalCode,onChange:u,required:!0,placeholder:"12345",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),n&&e.jsx("div",{className:"text-red-400 text-sm",children:n}),e.jsx("button",{type:"submit",disabled:t,className:`w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg 
              transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:t?"Setting up...":"Setup Account"})]})})]})}const ee={ValidationError:"Please check your information and try again.",NotFound:"The requested resource was not found.",Forbidden:"You do not have permission to perform this action.",InvalidCredentials:"Invalid credentials provided.",InvalidResourceState:"The resource is in an invalid state for this operation.",DuplicateResource:"This resource already exists.",InvalidFormat:"The provided information format is invalid.",InvalidScope:"The requested scope is invalid or unavailable.",ServerError:"An unexpected error occurred. Please try again later.",ServiceUnavailable:"The service is temporarily unavailable. Please try again later.",TooManyRequests:"Too many requests. Please wait a moment and try again.",InvalidSSN:"The provided SSN appears to be invalid.",InvalidDateOfBirth:"The provided date of birth appears to be invalid.",InvalidAddress:"The provided address could not be verified.",InvalidName:"The provided name appears to be invalid.",DocumentRequired:"Additional documentation is required for verification.",InsufficientFunds:"Insufficient funds available for this transaction.",TransferFailed:"The transfer could not be completed. Please try again.",InvalidAmount:"The specified amount is invalid.",ExceedsLimit:"This transaction exceeds the allowed limit.",AccountSuspended:"Your account has been suspended. Please contact support.",AccountDeactivated:"Your account has been deactivated.",VerificationRequired:"Account verification is required to perform this action.",getErrorMessage:function(s){if(this[s.code])return this[s.code];const t=s.message.toLowerCase();return t.includes("ssn")?this.InvalidSSN:t.includes("date of birth")?this.InvalidDateOfBirth:t.includes("address")?this.InvalidAddress:t.includes("funds")?this.InsufficientFunds:t.includes("verification")?this.VerificationRequired:"An error occurred. Please try again or contact support if the problem persists."}};function se({onClose:s}){const{currentUser:t}=D(),[a,n]=o.useState(""),[l,r]=o.useState(!1),[c,d]=o.useState(null),[u,p]=o.useState([]),[h,N]=o.useState(""),[y,v]=o.useState("ach"),i=async g=>{g.preventDefault(),r(!0),d(null);try{if(!(t!=null&&t.dwollaCustomerId))throw new Error("No Dwolla account found");const w=parseFloat(a);if(isNaN(w)||w<=0)throw new Error("Please enter a valid amount");await new Promise(_=>setTimeout(_,1e3)),s()}catch(w){console.error("Deposit error:",w),d(ee.getErrorMessage(w))}finally{r(!1)}},k=g=>{const w=g.target.value;(w===""||/^\d*\.?\d{0,2}$/.test(w))&&n(w)},S=[10,25,50,100,250,500];return e.jsxs(m,{className:"bg-gray-900/40 border-purple-500/20",children:[e.jsx(b,{children:e.jsx(f,{className:"text-white",children:"Deposit Funds"})}),e.jsx(x,{children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(E,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:k,placeholder:"0.00",className:`block w-full pl-10 pr-4 py-2 rounded-md bg-gray-800 border-gray-700 
                  text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit Method"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>v("ach"),className:`p-3 rounded-lg border flex flex-col items-center justify-center space-y-2 transition-colors
                  ${y==="ach"?"bg-purple-900/40 border-purple-500":"bg-gray-800 border-gray-700 hover:bg-gray-700"}`,children:[e.jsx(C,{className:"h-6 w-6 text-white"}),e.jsx("span",{className:"text-sm text-white",children:"ACH"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",disabled:!0,className:`w-full p-3 rounded-lg border border-gray-700 bg-gray-800/50 
                    flex flex-col items-center justify-center space-y-2 opacity-50 cursor-not-allowed`,children:[e.jsx("img",{src:"/images/venmo icon.png",alt:"Venmo",className:"h-6 w-6"}),e.jsx("span",{className:"text-sm text-white",children:"Venmo"})]}),e.jsx("span",{className:"absolute -bottom-6 left-0 right-0 text-center text-xs text-gray-400",children:"Coming Soon"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",disabled:!0,className:`w-full p-3 rounded-lg border border-gray-700 bg-gray-800/50 
                    flex flex-col items-center justify-center space-y-2 opacity-50 cursor-not-allowed`,children:[e.jsx(K,{className:"h-6 w-6 text-white"}),e.jsx("span",{className:"text-sm text-white",children:"Debit Card"})]}),e.jsx("span",{className:"absolute -bottom-6 left-0 right-0 text-center text-xs text-gray-400",children:"Coming Soon"})]})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-8",children:S.map(g=>e.jsxs("button",{type:"button",onClick:()=>n(g.toString()),className:`py-2 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg 
                  transition-colors border border-gray-700`,children:["$",g]},g))}),c&&e.jsx("div",{className:"text-red-400 text-sm",children:c}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:s,className:`flex-1 py-2 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg 
                transition-colors`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l||!a,className:`flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg 
                transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:l?"Processing...":"Deposit"})]})]})})]})}const te=()=>{const[s,t]=o.useState(!1),a=[{id:1,description:"Connect your Season-Long Fantasy League",bounty:5,completed:!1,buttonColor:"bg-blue-500 hover:bg-blue-600",logos:[{src:"/images/espnFantasy.png",alt:"ESPN"},{src:"/images/sleeperFantasy.png",alt:"Sleeper"},{src:"/images/yahoofantasy.png",alt:"Yahoo"}]},{id:2,description:"Connect your FanDuel and DraftKings accounts",bounty:5,completed:!1,buttonColor:"bg-purple-500 hover:bg-purple-600",logos:[{src:"/images/fanduel.png",alt:"FanDuel"},{src:"/images/draftkingsFantasy.png",alt:"DraftKings"}]},{id:3,description:"Share with your best friend",bounty:10,completed:!1,buttonColor:"bg-green-500 hover:bg-green-600",emoji:"🤝"}],n=r=>{console.log(`Clicked bounty for challenge ${r}`)},l=()=>e.jsxs("div",{className:"fixed inset-0 bg-blue-500 flex flex-col items-center justify-start z-50 p-4",children:[e.jsx("button",{onClick:()=>t(!1),className:"text-white text-2xl font-medium mb-8 self-start",children:"Close"}),e.jsxs("div",{className:"space-y-4 w-full max-w-md mb-8",children:[e.jsxs("div",{className:"bg-blue-400/30 rounded-xl p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/images/sleeperFantasy.png",alt:"Sleeper",className:"w-8 h-8 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"$0.50 for your"}),e.jsx("div",{className:"text-white/70",children:"Sleeper League"})]})]}),e.jsx("div",{className:"text-white text-xl font-medium",children:"$0.50"})]}),e.jsxs("div",{className:"bg-blue-400/30 rounded-xl p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/images/fanduel.png",alt:"FanDuel",className:"w-8 h-8 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"$1.00 FanDuel"}),e.jsx("div",{className:"text-white/70",children:"Fanduel"})]})]}),e.jsx("div",{className:"text-white text-xl font-medium",children:"$1.00"})]})]}),e.jsxs("div",{className:"relative w-full max-w-md aspect-square",children:[e.jsx("div",{className:"absolute inset-0 bg-white rounded-full"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full z-10"}),e.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-0 h-0 
                      border-l-[20px] border-l-transparent
                      border-b-[40px] border-b-white
                      border-r-[20px] border-r-transparent z-20`})]}),e.jsx("button",{className:"mt-8 bg-white text-blue-500 rounded-full px-12 py-4 text-xl font-bold",onClick:()=>{},children:"SPIN!"})]});return e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsxs(x,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Rewards and Challenges"}),e.jsx(U,{className:"h-5 w-5 text-yellow-500"})]}),e.jsx("div",{className:"rounded-lg overflow-hidden",children:a.map((r,c)=>e.jsxs("div",{className:`flex items-center justify-between p-4 ${c%2===0?"bg-gray-800/50":"bg-gray-800/30"}`,children:[e.jsxs("div",{className:"flex items-center flex-1",children:[r.logos?e.jsx("div",{className:"flex -space-x-2 mr-4",children:r.logos.map((d,u)=>e.jsx("img",{src:d.src,alt:d.alt,className:"w-8 h-8 rounded-full border-2 border-gray-800 bg-white"},u))}):r.emoji?e.jsx("div",{className:"w-8 h-8 flex items-center justify-center mr-4 text-xl",children:r.emoji}):null,e.jsx("p",{className:"text-white",children:r.description})]}),e.jsxs("button",{onClick:()=>n(r.id),className:`ml-4 px-6 py-2 ${r.buttonColor} text-white rounded-lg transition-colors shadow-lg`,children:["Bounty: $",r.bounty]})]},r.id))}),e.jsxs("div",{className:"flex items-center justify-between mt-6 p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Daily Reward"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Spin for a chance to win rewards!"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gradient-to-r from-blue-500/50 to-purple-500/50 text-white/70 rounded-lg cursor-not-allowed shadow-lg",children:"Spin Now!"}),e.jsx("span",{className:"absolute -top-2 right-0 text-xs font-medium text-purple-400 bg-purple-400/10 px-2 py-1 rounded-full",children:"Coming Soon"})]})]})]}),s&&e.jsx(l,{})]})};function xe(){const{currentUser:s}=D(),[t,a]=o.useState(!1),[n,l]=o.useState(!1),[r,c]=o.useState("rewards"),[d,u]=o.useState([]),[p,h]=o.useState(!0),N=[{id:1,type:"deposit",amount:500,description:"Deposit from Bank",date:"2024-03-15"},{id:2,type:"withdrawal",amount:-50,description:"NFL Bet Placement",date:"2024-03-14"},{id:3,type:"winning",amount:125,description:"Bet Payout",date:"2024-03-13"}],y=async()=>{if(s)try{h(!0);const i=await fetch(`http://localhost:4000/api/meld/user/${s.id}/connections`,{headers:{"Content-Type":"application/json"}});if(i.ok){const k=await i.json();u(k.data||[])}}catch(i){console.error("Error fetching connected banks:",i)}finally{h(!1)}},v=async i=>{console.log("Bank connected:",i),l(!1),await y()};return o.useEffect(()=>{y()},[s]),s!=null&&s.dwollaCustomerId?e.jsxs("div",{className:"space-y-6",children:[(s==null?void 0:s.dwollaVerificationStatus)==="pending"&&e.jsx(m,{className:"bg-yellow-500/10 border-yellow-500/20",children:e.jsx(x,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(W,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Verification In Progress"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your account is being verified. This typically takes 1-2 business days. You'll receive a notification once verified."})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsx(se,{onClose:()=>a(!1)})})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsx(I,{onSuccess:i=>{console.log("Bank connected:",i),l(!1)},onClose:()=>l(!1)})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(J,{}),e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsx(b,{children:e.jsx(f,{className:"text-lg font-medium text-purple-100",children:"Quick Actions"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>a(!0),disabled:(s==null?void 0:s.dwollaVerificationStatus)==="pending",className:"flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(L,{className:"h-5 w-5"}),e.jsx("span",{children:"Deposit"})]}),e.jsxs("button",{disabled:(s==null?void 0:s.dwollaVerificationStatus)==="pending",className:"flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:"Withdraw"})]})]})})]})]}),e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between",children:[e.jsx(f,{className:"text-lg font-medium text-purple-100",children:"Connected Banks"}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Bank"})]})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(C,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No banks connected yet"}),e.jsx("p",{className:"text-xs mt-1",children:"Connect your bank to easily fund your wallet"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("button",{onClick:()=>c("rewards"),className:`p-4 rounded-lg font-medium transition-colors ${r==="rewards"?"bg-purple-600 text-white":"bg-gray-900/50 text-gray-300 hover:bg-gray-900/70"}`,children:"Rewards & Challenges"}),e.jsx("button",{onClick:()=>c("activity"),className:`p-4 rounded-lg font-medium transition-colors ${r==="activity"?"bg-purple-600 text-white":"bg-gray-900/50 text-gray-300 hover:bg-gray-900/70"}`,children:"Recent Activity"})]}),r==="rewards"?e.jsx(te,{}):e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsx(b,{children:e.jsx(f,{className:"text-lg font-medium text-purple-100",children:"Recent Activity"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:N.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-full ${i.type==="deposit"?"bg-green-500/20 text-green-500":i.type==="withdrawal"?"bg-red-500/20 text-red-500":"bg-purple-500/20 text-purple-500"}`,children:i.type==="deposit"?e.jsx(L,{className:"h-5 w-5"}):i.type==="withdrawal"?e.jsx(R,{className:"h-5 w-5"}):e.jsx(A,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i.description}),e.jsx("p",{className:"text-xs text-gray-400",children:i.date})]})]}),e.jsxs("div",{className:`font-medium ${i.amount>0?"text-green-500":"text-red-500"}`,children:[i.amount>0?"+":"",i.amount.toFixed(2)]})]},i.id))})})]}),e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsx(b,{children:e.jsx(f,{className:"text-lg font-medium text-purple-100",children:"Connected Banks"})}),e.jsx(x,{children:p?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(q,{className:"w-8 h-8 animate-spin text-purple-600"})}):d.length>0?e.jsxs("div",{className:"space-y-3",children:[d.map(i=>{var k;return e.jsxs("div",{className:"p-4 rounded-lg bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:i.institution_name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[((k=i.bank_accounts)==null?void 0:k.length)||0," accounts • Connected ",new Date(i.created_at).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:i.status==="connected"?e.jsx(Q,{className:"w-5 h-5 text-green-500"}):i.status==="error"?e.jsx(H,{className:"w-5 h-5 text-red-500"}):e.jsx(q,{className:"w-5 h-5 animate-spin text-yellow-500"})})]}),i.bank_accounts&&i.bank_accounts.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:i.bank_accounts.map(S=>{var g;return e.jsxs("div",{className:"flex justify-between text-sm p-2 rounded bg-gray-900/50",children:[e.jsxs("span",{className:"text-gray-300",children:[S.account_name," (•••• ",S.account_number_last4,")"]}),e.jsxs("span",{className:"font-medium text-white",children:["$",((g=S.current_balance)==null?void 0:g.toLocaleString())||"0.00"]})]},S.id)})})]},i.id)}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full p-4 border-2 border-dashed rounded-lg hover:border-purple-600 transition-colors border-gray-700 text-center",children:[e.jsx(F,{className:"w-5 h-5 mx-auto text-gray-400"}),e.jsx("p",{className:"text-sm mt-1 text-gray-400",children:"Add Another Bank"})]})]}):e.jsxs("div",{className:"p-8 rounded-lg border-2 border-dashed text-center border-gray-700",children:[e.jsx(C,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),e.jsx("p",{className:"text-sm text-gray-400",children:"No banks connected yet"}),e.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Add Bank"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium text-purple-100",children:"Total Winnings"}),e.jsx(E,{className:"h-4 w-4 text-purple-200"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:"$1,234.56"}),e.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"+12.5% from last month"})]})]}),e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium text-purple-100",children:"Active Bets"}),e.jsx(A,{className:"h-4 w-4 text-purple-200"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"5"}),e.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"Total value: $250.00"})]})]}),e.jsxs(m,{className:"bg-gray-900/50 border-purple-500/20",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium text-purple-100",children:"Win Rate"}),e.jsx(A,{className:"h-4 w-4 text-purple-200"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"62%"}),e.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"Last 30 days"})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Dwolla ID: ",s.dwollaCustomerId]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(I,{onSuccess:v,onClose:()=>l(!1)})})]}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(X,{})})}export{xe as default};
