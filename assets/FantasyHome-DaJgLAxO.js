import{y as f,a9 as N,d as v,u as w,r,j as e,C as m,T as g,z as $,U as S}from"./main-Bt21LLck.js";import{L as h}from"./loader-circle-BfyHU3N4.js";import{L as C}from"./link-2-ZOEn3c4G.js";import{L as k}from"./log-out-D1nti5kR.js";import{C as L}from"./calendar-CniCNG_C.js";const M=()=>{const{currentUser:T}=f(),{user:t,fetchUser:p,disconnectSleeper:u,isLoading:a,errorMessage:l}=N(),{isDark:s}=v(),x=w(),[y,n]=r.useState(!1),[c,d]=r.useState(""),[i,U]=r.useState({totalLeagues:0,totalTeams:0,currentSeason:"2024"});r.useEffect(()=>{!t&&!a&&n(!0)},[t,a]);const b=async o=>{o.preventDefault(),c.trim()&&(await p(c),l||(n(!1),d("")))},j=()=>{window.confirm("Are you sure you want to disconnect your Sleeper account?")&&(u(),n(!0))};return a&&!t?e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(h,{className:"w-8 h-8 animate-spin text-purple-600"}),e.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:"Loading fantasy data..."})]})}):!t||y?e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("button",{onClick:()=>x("/profile"),className:`flex items-center gap-2 ${s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors`,children:[e.jsx(m,{className:"w-4 h-4 rotate-180"}),"Back to Profile"]})}),e.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-2xl shadow-xl p-8 max-w-md mx-auto`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`inline-flex p-4 rounded-full ${s?"bg-purple-900/30":"bg-purple-100"} mb-4`,children:e.jsx(g,{className:"w-12 h-12 text-purple-600"})}),e.jsx("h1",{className:`text-3xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Fantasy Home"}),e.jsx("p",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Connect your Sleeper account to view all your fantasy leagues and players"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Sleeper Username"}),e.jsx("input",{type:"text",value:c,onChange:o=>d(o.target.value),placeholder:"Enter your Sleeper username",className:`w-full px-4 py-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-purple-600`,required:!0})]}),l&&e.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm",children:l}),e.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-4 h-4"}),"Connect Sleeper Account"]})})]}),e.jsxs("div",{className:`mt-6 text-center text-sm ${s?"text-gray-400":"text-gray-600"}`,children:["Don't have a Sleeper account?"," ",e.jsx("a",{href:"https://sleeper.app",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700",children:"Sign up here"})]})]})]})}):e.jsxs("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"}`,children:[e.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} border-b ${s?"border-gray-700":"border-gray-200"} sticky top-0 z-10`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>x("/profile"),className:`flex items-center gap-2 ${s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors`,children:[e.jsx(m,{className:"w-4 h-4 rotate-180"}),"Back"]}),e.jsx("div",{className:`h-6 w-px ${s?"bg-gray-700":"bg-gray-300"}`}),e.jsx("h1",{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Fantasy Home"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.avatar&&e.jsx("img",{src:$.getAvatarUrl(t.avatar),alt:t.username,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:[e.jsx("p",{className:"font-medium",children:t.display_name}),e.jsxs("p",{className:"text-xs opacity-75",children:["@",t.username]})]})]}),e.jsx("button",{onClick:j,className:`p-2 rounded-lg ${s?"hover:bg-gray-700":"hover:bg-gray-100"} transition-colors`,title:"Disconnect Sleeper account",children:e.jsx(k,{className:`w-4 h-4 ${s?"text-gray-400":"text-gray-600"}`})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg p-6 border ${s?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Total Leagues"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:i.totalLeagues})]}),e.jsx(g,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg p-6 border ${s?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Total Teams"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:i.totalTeams})]}),e.jsx(S,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg p-6 border ${s?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Current Season"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:i.currentSeason})]}),e.jsx(L,{className:"w-8 h-8 text-green-600"})]})})]}),e.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-xl p-6 border ${s?"border-gray-700":"border-gray-200"}`,children:e.jsx("div",{className:`text-center py-8 ${s?"text-gray-400":"text-gray-600"}`,children:e.jsx("p",{children:"League view coming soon..."})})})]})]})};export{M as default};
