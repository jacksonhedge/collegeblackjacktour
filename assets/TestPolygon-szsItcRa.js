import{d as y,r as i,j as e}from"./main-CIF9t6XU.js";import{p as n}from"./polygonApi-BGxzygGs.js";var b={};const f=()=>{var g;const{isDark:a}=y(),[s,h]=i.useState({}),[o,x]=i.useState(!0),[d,m]=i.useState(null);i.useEffect(()=>{(async()=>{x(!0);const r={};try{console.log("Testing market status...");const l=await n.getMarketStatus();r.marketStatus={success:!0,data:l},console.log("Testing single stock price...");const p=await n.getTickerPrice("AAPL");r.stockPrice={success:!0,data:p},console.log("Testing index data...");const u=await n.getIndexData("SPX");r.indexData={success:!0,data:u},console.log("Testing crypto price...");const j=await n.getCryptoPrice("BTC");r.cryptoPrice={success:!0,data:j},console.log("Testing multiple tickers...");const P=await n.getMultipleTickerPrices(["AAPL","GOOGL","MSFT"]);r.multipleStocks={success:!0,data:P},h(r)}catch(l){m(l.message),console.error("Test error:",l)}finally{x(!1)}})()},[]);const c=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);return e.jsxs("div",{className:`min-h-screen p-8 ${a?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Polygon API Test Results"}),o&&e.jsx("div",{className:"text-lg",children:"Running API tests..."}),d&&e.jsxs("div",{className:"bg-red-500/20 border border-red-500 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-red-500",children:"Error:"}),e.jsx("p",{children:d})]}),!o&&!d&&e.jsxs("div",{className:"space-y-6",children:[s.marketStatus&&e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-800":"bg-white"} shadow-lg`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Market Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Status: ",e.jsx("span",{className:`font-bold ${s.marketStatus.data.isOpen?"text-green-500":"text-red-500"}`,children:s.marketStatus.data.market})]}),e.jsxs("p",{children:["After Hours: ",s.marketStatus.data.afterHours?"Open":"Closed"]})]})]}),s.stockPrice&&e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-800":"bg-white"} shadow-lg`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Apple (AAPL) Stock Price"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Price: ",c(s.stockPrice.data.price)]}),e.jsxs("p",{className:s.stockPrice.data.change>=0?"text-green-500":"text-red-500",children:["Change: ",c(s.stockPrice.data.change)," (",s.stockPrice.data.changePercent.toFixed(2),"%)"]}),e.jsxs("p",{children:["Volume: ",(g=s.stockPrice.data.volume)==null?void 0:g.toLocaleString()]})]})]}),s.indexData&&e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-800":"bg-white"} shadow-lg`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"S&P 500 Index"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Value: ",s.indexData.data.price.toFixed(2)]}),e.jsxs("p",{className:s.indexData.data.change>=0?"text-green-500":"text-red-500",children:["Change: ",s.indexData.data.change.toFixed(2)," (",s.indexData.data.changePercent.toFixed(2),"%)"]})]})]}),s.cryptoPrice&&e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-800":"bg-white"} shadow-lg`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Bitcoin (BTC)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Price: ",c(s.cryptoPrice.data.price)]}),e.jsxs("p",{className:s.cryptoPrice.data.change>=0?"text-green-500":"text-red-500",children:["Change: ",c(s.cryptoPrice.data.change)," (",s.cryptoPrice.data.changePercent.toFixed(2),"%)"]})]})]}),s.multipleStocks&&e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-800":"bg-white"} shadow-lg`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Multiple Stocks"}),e.jsx("div",{className:"space-y-3",children:s.multipleStocks.data.map(t=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:t.symbol}),e.jsx("span",{children:t.price?c(t.price):"N/A"}),e.jsx("span",{className:t.change>=0?"text-green-500":"text-red-500",children:t.changePercent?`${t.changePercent.toFixed(2)}%`:"N/A"})]},t.symbol))})]})]}),e.jsxs("div",{className:"mt-8 text-sm opacity-70",children:[e.jsxs("p",{children:["API Key Status: ",b.REACT_APP_POLYGON_API_KEY?"✅ Configured":"❌ Not Found"]}),e.jsxs("p",{children:["Test completed at: ",new Date().toLocaleString()]})]})]})};export{f as default};
