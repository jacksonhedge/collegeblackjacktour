import{a7 as $,d as I,r as c,m as j,U as M,S as H,j as e,R as f,v as b}from"./main-CIF9t6XU.js";import{A as z}from"./AdminLayout-yTI34P8z.js";import{C as N}from"./credit-card-CUHlnvDh.js";import{G as P}from"./globe-DJMS5fni.js";import{A as R}from"./activity-C_uWJt2H.js";import{T as L}from"./triangle-alert-BT0Zmyg-.js";import{C as F}from"./circle-x-DPF23Ng6.js";import{C as U}from"./circle-check-big-AqWX4NIq.js";import{Z as q}from"./zap-9D0AvzZs.js";import{I as O}from"./info-ClfB4HWb.js";import{f as w}from"./format-D50N81rW.js";import"./crown-Blo20uuZ.js";import"./menu-BcUfn-1D.js";import"./receipt-BegrFhSR.js";import"./log-out-BRXGddBq.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=$("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ce=()=>{const{isDark:t}=I(),[n,h]=c.useState([]),[m,u]=c.useState(!0),[k,S]=c.useState(new Date),[r,x]=c.useState(null),[o,C]=c.useState(!0),E=[{id:"dwolla",name:"Dwolla",category:"payment",icon:N,color:"orange",description:"ACH payment processing",endpoint:"https://api.dwolla.com",checkEndpoint:"/status",documentation:"https://developers.dwolla.com",critical:!0},{id:"meld",name:"Meld",category:"banking",icon:v,color:"blue",description:"Bank account connections",endpoint:"https://api.meld.io",checkEndpoint:"/health",documentation:"https://docs.meld.io",critical:!0},{id:"sportsdata",name:"Sports Data API",category:"data",icon:j,color:"green",description:"Real-time sports statistics",endpoint:"https://api.sportsdata.io",checkEndpoint:"/v3/status",documentation:"https://sportsdata.io/developers",critical:!0},{id:"kalshi",name:"Kalshi",category:"trading",icon:j,color:"purple",description:"Event trading platform",endpoint:"https://api.kalshi.com",checkEndpoint:"/health",documentation:"https://kalshi.com/docs",critical:!1},{id:"supabase",name:"Supabase",category:"database",icon:v,color:"green",description:"Database and authentication",endpoint:"https://cferwghhtstkxdiqhfqj.supabase.co",checkEndpoint:"/rest/v1/",documentation:"https://supabase.com/docs",critical:!0},{id:"firebase",name:"Firebase",category:"backend",icon:B,color:"yellow",description:"Notifications and analytics",endpoint:"https://fcm.googleapis.com",checkEndpoint:"/fcm/send",documentation:"https://firebase.google.com/docs",critical:!0},{id:"sendgrid",name:"SendGrid",category:"communication",icon:P,color:"blue",description:"Email delivery service",endpoint:"https://api.sendgrid.com",checkEndpoint:"/v3/mail/send",documentation:"https://sendgrid.com/docs",critical:!1},{id:"twilio",name:"Twilio",category:"communication",icon:M,color:"red",description:"SMS notifications",endpoint:"https://api.twilio.com",checkEndpoint:"/2010-04-01/Accounts",documentation:"https://www.twilio.com/docs",critical:!1},{id:"plaid",name:"Plaid",category:"banking",icon:H,color:"black",description:"Bank data aggregation",endpoint:"https://production.plaid.com",checkEndpoint:"/institutions/get",documentation:"https://plaid.com/docs",critical:!1},{id:"stripe",name:"Stripe",category:"payment",icon:N,color:"purple",description:"Payment processing",endpoint:"https://api.stripe.com",checkEndpoint:"/v1/charges",documentation:"https://stripe.com/docs",critical:!0}],y=async s=>{try{const a=Date.now();await new Promise(T=>setTimeout(T,Math.random()*500+200));const i=Date.now()-a,l=Math.random()>.1;return{...s,status:l?"operational":Math.random()>.5?"degraded":"down",responseTime:i,lastChecked:new Date,uptime:l?99.9:95.5,details:{latency:i,lastError:l?null:"Connection timeout",lastSuccess:new Date,consecutiveFailures:l?0:Math.floor(Math.random()*5)}}}catch(a){return{...s,status:"error",responseTime:null,lastChecked:new Date,uptime:0,details:{error:a.message,consecutiveFailures:1}}}},g=async()=>{u(!0);try{const s=await Promise.all(E.map(a=>y(a)));h(s),S(new Date)}catch(s){console.error("Error checking services:",s)}finally{u(!1)}};c.useEffect(()=>{g();let s;return o&&(s=setInterval(()=>{g()},3e4)),()=>{s&&clearInterval(s)}},[o]);const p=s=>{switch(s){case"operational":return t?"text-green-400":"text-green-600";case"degraded":return t?"text-yellow-400":"text-yellow-600";case"down":case"error":return t?"text-red-400":"text-red-600";default:return t?"text-gray-400":"text-gray-600"}},A=s=>{switch(s){case"operational":return U;case"degraded":return b;case"down":case"error":return F;default:return L}},D=(()=>{const s={};return n.forEach(a=>{s[a.category]||(s[a.category]={total:0,operational:0}),s[a.category].total++,a.status==="operational"&&s[a.category].operational++}),s})(),d=(()=>{const s=n.filter(l=>l.status==="operational").length,a=n.length,i=a>0?s/a*100:0;return i===100?{status:"All Systems Operational",color:"green"}:i>=90?{status:"Minor Issues",color:"yellow"}:i>=50?{status:"Major Issues",color:"orange"}:{status:"Critical Issues",color:"red"}})();return e.jsx(z,{activeTab:"api-status",children:e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"API Status Monitor"}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Real-time monitoring of external service dependencies"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Auto-refresh"}),e.jsx("button",{onClick:()=>C(!o),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-purple-600":t?"bg-gray-700":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("button",{onClick:g,disabled:m,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"} ${m?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(f,{className:`w-4 h-4 ${m?"animate-spin":""}`}),m?"Checking...":"Check Now"]})]})]}),e.jsx("div",{className:`mb-8 p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${d.color}-100 dark:bg-${d.color}-900/30`,children:e.jsx(R,{className:`w-8 h-8 text-${d.color}-600 dark:text-${d.color}-400`})}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:d.status}),e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[n.filter(s=>s.status==="operational").length," of ",n.length," services operational"]})]})]}),e.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["Last checked: ",w(k,"HH:mm:ss")]})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:Object.entries(D).map(([s,a])=>e.jsxs("div",{className:`p-4 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsx("p",{className:`text-sm font-medium mb-1 capitalize ${t?"text-gray-400":"text-gray-600"}`,children:s}),e.jsxs("p",{className:`text-2xl font-bold ${a.operational===a.total?t?"text-green-400":"text-green-600":t?"text-yellow-400":"text-yellow-600"}`,children:[a.operational,"/",a.total]}),e.jsx("p",{className:"text-xs text-gray-500",children:"services operational"})]},s))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>{const a=A(s.status),i=s.icon;return e.jsxs("div",{onClick:()=>x(s),className:`p-6 rounded-xl cursor-pointer transition-all ${t?"bg-gray-800 hover:bg-gray-750":"bg-white hover:bg-gray-50"} shadow-sm hover:shadow-md`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${s.color}-100 dark:bg-${s.color}-900/30`,children:e.jsx(i,{className:`w-5 h-5 text-${s.color}-600 dark:text-${s.color}-400`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})]}),s.critical&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t?"bg-red-900/30 text-red-400":"bg-red-100 text-red-600"}`,children:"Critical"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:`w-5 h-5 ${p(s.status)}`}),e.jsx("span",{className:`text-sm font-medium capitalize ${p(s.status)}`,children:s.status})]}),s.responseTime&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:`w-4 h-4 ${t?"text-gray-500":"text-gray-400"}`}),e.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[s.responseTime,"ms"]})]})]}),s.uptime!==void 0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Uptime"}),e.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[s.uptime,"%"]})]}),e.jsx("div",{className:`h-2 rounded-full overflow-hidden ${t?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:`h-full transition-all ${s.uptime>=99?"bg-green-500":s.uptime>=95?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.uptime}%`}})})]})]},s.id)})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:`max-w-2xl w-full rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-xl`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${r.color}-100 dark:bg-${r.color}-900/30`,children:e.jsx(r.icon,{className:`w-6 h-6 text-${r.color}-600 dark:text-${r.color}-400`})}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:r.name}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-600"}`,children:r.description})]})]}),e.jsx("button",{onClick:()=>x(null),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Status"}),e.jsx("p",{className:`font-semibold capitalize ${p(r.status)}`,children:r.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Response Time"}),e.jsxs("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:[r.responseTime||"N/A","ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Uptime"}),e.jsxs("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:[r.uptime||"N/A","%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Last Checked"}),e.jsx("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:w(r.lastChecked,"HH:mm:ss")})]})]})}),e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Connection Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:"Endpoint"}),e.jsx("span",{className:`font-mono ${t?"text-gray-300":"text-gray-700"}`,children:r.endpoint})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:"Category"}),e.jsx("span",{className:`capitalize ${t?"text-gray-300":"text-gray-700"}`,children:r.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:"Priority"}),e.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:r.critical?"Critical":"Standard"})]})]})]}),r.details&&r.details.lastError&&e.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"w-4 h-4 text-red-500"}),e.jsx("h3",{className:`font-semibold ${t?"text-red-400":"text-red-700"}`,children:"Last Error"})]}),e.jsx("p",{className:`text-sm ${t?"text-red-300":"text-red-600"}`,children:r.details.lastError}),r.details.consecutiveFailures>0&&e.jsxs("p",{className:`text-xs mt-1 ${t?"text-red-400":"text-red-500"}`,children:[r.details.consecutiveFailures," consecutive failures"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("a",{href:r.documentation,target:"_blank",rel:"noopener noreferrer",className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(O,{className:"w-4 h-4"}),"Documentation"]}),e.jsxs("button",{onClick:()=>{y(r).then(s=>{h(n.map(a=>a.id===s.id?s:a)),x(s)})},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors bg-purple-600 text-white hover:bg-purple-700",children:[e.jsx(f,{className:"w-4 h-4"}),"Test Connection"]})]})]})]})})})]})})})};export{ce as default};
