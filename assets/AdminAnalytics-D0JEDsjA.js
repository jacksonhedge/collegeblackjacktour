import{a7 as z,g as N,e as A,f as w,q as C,o as V,aK as R,aL as Q,P as $,Y as K,h as B,i as G,aN as H,r as P,au as O,av as W,aM as I,j as e,R as Y,U as F,x as _}from"./main-Bt21LLck.js";import{C as Z}from"./clock-Bf45bXE_.js";import{A as J}from"./activity-rhRbEMqz.js";import{G as X}from"./globe-Dfh2Ze3q.js";import{Z as ee}from"./zap-CjGAVxmx.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=z("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);class re{constructor(){this.cache=new Map,this.cacheExpiry=5*60*1e3}async getCachedOrFetch(i,s){const a=this.cache.get(i);if(a&&Date.now()-a.timestamp<this.cacheExpiry)return a.data;try{const r=await s();return this.cache.set(i,{data:r,timestamp:Date.now()}),r}catch(r){return console.error(`Error fetching ${i}:`,r),this.getMockData(i)}}async getDashboardStats(){return this.getCachedOrFetch("dashboardStats",async()=>{try{const s=(await N(A(w,"users"))).docs.map(n=>({id:n.id,...n.data()})),a=new Date,r=new Date(a.setHours(0,0,0,0)),d=s.filter(n=>{var m,t;const l=((t=(m=n.lastSeen)==null?void 0:m.toDate)==null?void 0:t.call(m))||new Date(0);return a-l<7*24*60*60*1e3}),x=s.filter(n=>{var m,t;return(((t=(m=n.createdAt)==null?void 0:m.toDate)==null?void 0:t.call(m))||new Date(0))>=r}),c=(await N(A(w,"transactions"))).docs.map(n=>({id:n.id,...n.data()})),p=c.filter(n=>{var m,t;return(((t=(m=n.createdAt)==null?void 0:m.toDate)==null?void 0:t.call(m))||new Date(0))>=r&&n.type==="deposit"&&n.status==="completed"}).reduce((n,l)=>n+(l.amount||0),0),g=new Date(a.getFullYear(),a.getMonth(),1),v=c.filter(n=>{var m,t;return(((t=(m=n.createdAt)==null?void 0:m.toDate)==null?void 0:t.call(m))||new Date(0))>=g&&n.type==="deposit"&&n.status==="completed"}).reduce((n,l)=>n+(l.amount||0),0),k=c.filter(n=>n.type==="deposit"&&n.status==="completed").reduce((n,l)=>n+(l.amount||0),0),S=await this.getNotificationStats();return{users:{total:s.length,active:d.length,newToday:x.length},notifications:S,revenue:{total:k,today:p,thisMonth:v},activity:{sessions:d.length*3,transactions:c.length,avgDuration:12.5}}}catch(i){throw console.error("Error fetching dashboard stats:",i),i}})}async getNotificationStats(){try{const i=["adminSmsTests","adminEmailTests","adminPushTests"];let s=0,a=0,r=0;for(const d of i)try{(await N(A(w,d))).docs.forEach(u=>{const c=u.data();c.status==="sent"||c.status==="delivered"?s++:c.status==="pending"?a++:c.status==="failed"&&r++})}catch(x){console.warn(`Could not fetch ${d}:`,x)}return{sent:s,pending:a,failed:r}}catch(i){return console.error("Error fetching notification stats:",i),{sent:0,pending:0,failed:0}}}async getUsersPaginated(i=10,s=null){try{let a=C(A(w,"users"),V("createdAt","desc"),R(i));s&&(a=C(a,Q(s)));const r=await N(a),d=[],x=r.docs[r.docs.length-1];for(const u of r.docs){const c=u.data(),p=await this.enrichUserData(u.id,c);d.push(p)}return{users:d,lastDoc:x}}catch(a){return console.error("Error fetching paginated users:",a),{users:this.getMockUsers(),lastDoc:null}}}async searchUsers(i){var s,a;try{const r=await N(A(w,"users")),d=[];for(const x of r.docs){const u=x.data(),c=await this.enrichUserData(x.id,u);[(s=c.username)==null?void 0:s.toLowerCase(),(a=c.email)==null?void 0:a.toLowerCase(),c.phoneNumber,c.id].filter(Boolean).some(g=>g.includes(i.toLowerCase()))&&d.push(c)}return d}catch(r){return console.error("Error searching users:",r),[]}}async enrichUserData(i,s){var a,r,d,x,u,c,p,g,v,k;try{const n=(await N(C(A(w,"transactions"),$("userId","==",i)))).docs.map(y=>y.data()),l=n.length,m=n.reduce((y,f)=>y+(f.amount||0),0),t=n.sort((y,f)=>{var M,L,T,q;return(((L=(M=f.createdAt)==null?void 0:M.toDate)==null?void 0:L.call(M))||0)-(((q=(T=y.createdAt)==null?void 0:T.toDate)==null?void 0:q.call(T))||0)})[0],h=((r=(a=s.createdAt)==null?void 0:a.toDate)==null?void 0:r.call(a))||new Date,j=Math.floor((new Date-h)/(1e3*60*60*24)),b=((x=(d=s.lastSeen)==null?void 0:d.toDate)==null?void 0:x.call(d))||new Date,U=Math.floor((new Date-b)/(1e3*60*60*24));let D="active";s.suspended?D="suspended":U>30?D="dormant":U>7&&(D="inactive");let E="low";return s.flaggedTransactions>5||s.chargebackCount>0?E="high":(s.flaggedTransactions>2||m>1e4)&&(E="medium"),{id:i,...s,profile:{username:s.username||"N/A",email:s.email||"N/A",phoneNumber:s.phoneNumber||"N/A",profileImage:s.profileImage||null,verification:{email:s.emailVerified||!1,phone:s.phoneVerified||!1,kyc:s.kycVerified||!1}},balance:{cash:((u=s.balance)==null?void 0:u.cash)||0,bonus:((c=s.balance)==null?void 0:c.bonus)||0,total:(((p=s.balance)==null?void 0:p.cash)||0)+(((g=s.balance)==null?void 0:g.bonus)||0)},transactions:{count:l,volume:m,lastTransaction:((k=(v=t==null?void 0:t.createdAt)==null?void 0:v.toDate)==null?void 0:k.call(v))||null},account:{createdAt:h,lastSeen:b,accountAge:j,status:D,riskLevel:E},activity:{loginCount:s.loginCount||0,lastLoginIP:s.lastLoginIP||"N/A",devices:s.devices||[]}}}catch(S){return console.error("Error enriching user data:",S),{id:i,...s,profile:{username:s.username||"N/A",email:s.email||"N/A",phoneNumber:s.phoneNumber||"N/A"}}}}async getTransactionSummary(){return this.getCachedOrFetch("transactionSummary",async()=>{try{const s=(await N(A(w,"transactions"))).docs.map(r=>({id:r.id,...r.data()})),a={total:s.length,byType:{},byStatus:{},volume:{total:0,deposits:0,withdrawals:0,transfers:0}};return s.forEach(r=>{a.byType[r.type]=(a.byType[r.type]||0)+1,a.byStatus[r.status]=(a.byStatus[r.status]||0)+1;const d=r.amount||0;a.volume.total+=d,r.type==="deposit"?a.volume.deposits+=d:r.type==="withdrawal"?a.volume.withdrawals+=d:r.type==="transfer"&&(a.volume.transfers+=d)}),a}catch(i){throw console.error("Error fetching transaction summary:",i),i}})}async getRecentTransactions(i=10){var s,a;try{const r=C(A(w,"transactions"),V("createdAt","desc"),R(i)),d=await N(r),x=[];for(const u of d.docs){const c=u.data();let p={username:"Unknown",email:"N/A"};if(c.userId)try{const g=await K(u(w,"users",c.userId));if(g.exists()){const v=g.data();p={username:v.username||"N/A",email:v.email||"N/A"}}}catch(g){console.warn("Could not fetch user info for transaction:",g)}x.push({id:u.id,...c,user:p,createdAt:((a=(s=c.createdAt)==null?void 0:s.toDate)==null?void 0:a.call(s))||new Date})}return x}catch(r){return console.error("Error fetching recent transactions:",r),[]}}async getSystemHealth(){return{services:{firebase:{status:"operational",latency:45},notifications:{status:"operational",latency:120},payments:{status:"operational",latency:200}},performance:{apiResponseTime:150,databaseQueries:25,cacheHitRate:.85},errors:{last24Hours:12,criticalErrors:0,warningCount:3}}}getMockData(i){return{dashboardStats:{users:{total:1250,active:980,newToday:45},notifications:{sent:3400,pending:120,failed:38},revenue:{total:125e3,today:4500,thisMonth:45e3},activity:{sessions:2940,transactions:450,avgDuration:12.5},transactions:{total:450,deposits:280,withdrawals:170}},users:this.getMockUsers(),transactionSummary:{total:450,byType:{deposit:280,withdrawal:170},byStatus:{completed:400,pending:30,failed:20},volume:{total:125e3,deposits:85e3,withdrawals:4e4}}}[i]||null}getMockUsers(){return[{id:"mock1",profile:{username:"demo_user1",email:"demo1@example.com",phoneNumber:"+1234567890",verification:{email:!0,phone:!1,kyc:!1}},balance:{cash:1e3,bonus:50,total:1050},transactions:{count:25,volume:5e3,lastTransaction:new Date},account:{createdAt:new Date("2024-01-15"),lastSeen:new Date,accountAge:300,status:"active",riskLevel:"low"}},{id:"mock2",profile:{username:"demo_user2",email:"demo2@example.com",phoneNumber:"+0987654321",verification:{email:!0,phone:!0,kyc:!0}},balance:{cash:500,bonus:25,total:525},transactions:{count:10,volume:2e3,lastTransaction:new Date},account:{createdAt:new Date("2024-03-20"),lastSeen:new Date,accountAge:250,status:"active",riskLevel:"low"}}]}async updateUserStatus(i,s){try{return await B(G(w,"users",i),{status:s,statusUpdatedAt:H(),suspended:s==="suspended"}),!0}catch(a){throw console.error("Error updating user status:",a),a}}async updateUserBalance(i,s){try{return await B(G(w,"users",i),{balance:s,balanceUpdatedAt:H()}),!0}catch(a){throw console.error("Error updating user balance:",a),a}}}const me=new re,he=()=>{const[o,i]=P.useState({activeUsers:{daily:0,weekly:0,monthly:0},userEngagement:{avgSessionDuration:0,sessionsPerUser:0},topPages:[],userAcquisition:{organic:0,direct:0,referral:0,social:0},deviceCategory:{desktop:0,mobile:0,tablet:0},geographicData:[]}),[s,a]=P.useState([]),[r,d]=P.useState([]),[x,u]=P.useState(!0),[c,p]=P.useState("7d"),g=()=>{const t={daily:Math.floor(Math.random()*300)+100,weekly:Math.floor(Math.random()*1e3)+500,monthly:Math.floor(Math.random()*3e3)+1e3},h={avgSessionDuration:Math.floor(Math.random()*300)+60,sessionsPerUser:(Math.random()*5+1).toFixed(2)},b=["/platforms","/","/deposit","/profile","/wallets"].map(f=>({path:f,views:Math.floor(Math.random()*1e3)+100,avgTime:Math.floor(Math.random()*300)+30})).sort((f,M)=>M.views-f.views),U={organic:Math.floor(Math.random()*500)+100,direct:Math.floor(Math.random()*700)+300,referral:Math.floor(Math.random()*300)+50,social:Math.floor(Math.random()*200)+50},D={desktop:Math.floor(Math.random()*600)+400,mobile:Math.floor(Math.random()*800)+600,tablet:Math.floor(Math.random()*100)+20},y=["United States","Canada","United Kingdom","Australia","Germany"].map(f=>({country:f,users:Math.floor(Math.random()*500)+50})).sort((f,M)=>M.users-f.users);return{activeUsers:t,userEngagement:h,topPages:b,userAcquisition:U,deviceCategory:D,geographicData:y}},v=()=>[{id:"fanduel",name:"FanDuel"},{id:"draftkings",name:"DraftKings"},{id:"betmgm",name:"BetMGM"},{id:"caesars",name:"Caesars"},{id:"espnbet",name:"ESPN Bet"},{id:"fanatics",name:"Fanatics"},{id:"mcluck",name:"McLuck"},{id:"pulsz",name:"Pulsz"}].map(h=>({...h,visits:Math.floor(Math.random()*1e3)+100,signups:Math.floor(Math.random()*100)+10,conversion:(Math.random()*20+5).toFixed(2)+"%"})).sort((h,j)=>j.visits-h.visits),k=()=>{const t=["signup","login","deposit","platform_visit","gift_card_request"],h=[];for(let j=0;j<20;j++){const b=new Date;b.setMinutes(b.getMinutes()-j*30),h.push({userId:`user_${Math.floor(Math.random()*1e3)}`,activity:t[Math.floor(Math.random()*t.length)],timestamp:b,details:"User activity details here"})}return h},S=async()=>{try{const t=A(w,"users"),j=(await N(t)).size,b=new Date,U=new Date(b.getTime()-24*60*60*1e3),D=new Date(b.getTime()-7*24*60*60*1e3),E=new Date(b.getTime()-30*24*60*60*1e3);try{const y=C(t,$("lastSeen",">=",I.fromDate(U)),R(1e3)),f=C(t,$("lastSeen",">=",I.fromDate(D)),R(1e3)),M=C(t,$("lastSeen",">=",I.fromDate(E)),R(1e3)),[L,T,q]=await Promise.all([N(y),N(f),N(M)]);i(ie=>({...g(),activeUsers:{daily:L.size,weekly:T.size,monthly:q.size}}))}catch(y){console.error("Error fetching active users:",y),i(g())}try{a(k())}catch(y){console.error("Error fetching user activity:",y),a(k())}d(v())}catch(t){console.error("Error fetching analytics data:",t),i(g()),a(k()),d(v())}u(!1)};P.useEffect(()=>{O&&W(O,"admin_analytics_view"),S();const t=setInterval(()=>{S()},5*60*1e3);return()=>clearInterval(t)},[c]);const n=()=>{u(!0),S()};if(x)return e.jsx("div",{className:"min-h-screen flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const l=t=>new Intl.NumberFormat().format(t),m=t=>{const h=Math.floor(t/60),j=t%60;return`${h}m ${j}s`};return e.jsxs("div",{className:"space-y-6 p-6 bg-white shadow-md rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p("7d"),className:`px-3 py-1.5 rounded-md ${c==="7d"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>p("30d"),className:`px-3 py-1.5 rounded-md ${c==="30d"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"30 Days"}),e.jsx("button",{onClick:()=>p("90d"),className:`px-3 py-1.5 rounded-md ${c==="90d"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"90 Days"})]}),e.jsxs("button",{onClick:n,className:"flex items-center space-x-1 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-full text-white",children:e.jsx(F,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Daily Active Users"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700",children:l(o.activeUsers.daily)}),e.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Active users in the last 24 hours"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-full text-white",children:e.jsx(F,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Weekly Active Users"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-700",children:l(o.activeUsers.weekly)}),e.jsx("div",{className:"mt-2 text-sm text-green-600",children:"Active users in the last 7 days"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-full text-white",children:e.jsx(F,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Active Users"})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-700",children:l(o.activeUsers.monthly)}),e.jsx("div",{className:"mt-2 text-sm text-purple-600",children:"Active users in the last 30 days"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gray-700 rounded-full text-white",children:e.jsx(Z,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"User Engagement"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Session Duration"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:m(o.userEngagement.avgSessionDuration)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Sessions Per User"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o.userEngagement.sessionsPerUser})]})]})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg border border-orange-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-full text-white",children:e.jsx(J,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"User Acquisition"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Direct"}),e.jsx("div",{className:"text-lg font-bold text-gray-800",children:l(o.userAcquisition.direct)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Organic Search"}),e.jsx("div",{className:"text-lg font-bold text-gray-800",children:l(o.userAcquisition.organic)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Referral"}),e.jsx("div",{className:"text-lg font-bold text-gray-800",children:l(o.userAcquisition.referral)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Social"}),e.jsx("div",{className:"text-lg font-bold text-gray-800",children:l(o.userAcquisition.social)})]})]})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-500 rounded-full text-white",children:e.jsx(X,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Platform Performance"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-indigo-200",children:[e.jsx("thead",{className:"bg-indigo-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-indigo-800 uppercase tracking-wider",children:"Platform"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-indigo-800 uppercase tracking-wider",children:"Visits"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-indigo-800 uppercase tracking-wider",children:"Signups"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-indigo-800 uppercase tracking-wider",children:"Conversion Rate"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-indigo-100",children:r.map(t=>e.jsxs("tr",{className:"hover:bg-indigo-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:l(t.visits)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:l(t.signups)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:t.conversion})]},t.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-500 rounded-full text-white",children:e.jsx(_,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Device Category"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Desktop"})]}),e.jsx("div",{className:"text-sm font-medium",children:l(o.deviceCategory.desktop)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Math.round(o.deviceCategory.desktop/(o.deviceCategory.desktop+o.deviceCategory.mobile+o.deviceCategory.tablet)*100)}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Mobile"})]}),e.jsx("div",{className:"text-sm font-medium",children:l(o.deviceCategory.mobile)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${Math.round(o.deviceCategory.mobile/(o.deviceCategory.desktop+o.deviceCategory.mobile+o.deviceCategory.tablet)*100)}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tablet"})]}),e.jsx("div",{className:"text-sm font-medium",children:l(o.deviceCategory.tablet)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${Math.round(o.deviceCategory.tablet/(o.deviceCategory.desktop+o.deviceCategory.mobile+o.deviceCategory.tablet)*100)}%`}})})]})]}),e.jsxs("div",{className:"bg-teal-50 p-6 rounded-lg border border-teal-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-teal-500 rounded-full text-white",children:e.jsx(se,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Geographic Distribution"})]}),e.jsx("div",{className:"space-y-3",children:o.geographicData.map((t,h)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-700",children:t.country}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm font-medium",children:l(t.users)}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${Math.round(t.users/o.geographicData[0].users*100)}%`}})})]})]},h))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gray-700 rounded-full text-white",children:e.jsx(ee,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Recent User Activity"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((t,h)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.userId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                      ${t.activity==="signup"?"bg-green-100 text-green-800":t.activity==="login"?"bg-blue-100 text-blue-800":t.activity==="deposit"?"bg-purple-100 text-purple-800":t.activity==="platform_visit"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.activity.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.timestamp.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.details})]},h))})]})})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-500 rounded-full text-white",children:e.jsx(te,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Popular Pages"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-yellow-200",children:[e.jsx("thead",{className:"bg-yellow-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-yellow-800 uppercase tracking-wider",children:"Page Path"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-yellow-800 uppercase tracking-wider",children:"Page Views"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-yellow-800 uppercase tracking-wider",children:"Avg. Time on Page"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-yellow-100",children:o.topPages.map((t,h)=>e.jsxs("tr",{className:"hover:bg-yellow-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.path}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:l(t.views)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:m(t.avgTime)})]},h))})]})})]})]})};export{he as A,me as a};
