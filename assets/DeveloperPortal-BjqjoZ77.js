import{a7 as T,u as U,r as c,s as j,j as e,a0 as _,U as E,S as R,F as k,E as z,b as $,p as L}from"./main-CIF9t6XU.js";import{P as w}from"./plus-0mQGkKq9.js";import{B as C}from"./bar-chart-3-mO0KKmMz.js";import{C as N}from"./copy-Dba7HXDr.js";import{T as S}from"./trash-2-DUHExa_c.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=T("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);function V(){const r=U(),[u,t]=c.useState(null),[i,m]=c.useState([]),[o,y]=c.useState(!0),[g,h]=c.useState(!1),[p,b]=c.useState(null),[f,s]=c.useState(null);c.useEffect(()=>{n(),a()},[]);const n=async()=>{const{data:{user:d}}=await j.auth.getUser();if(!d){r("/login?return_to=/developers");return}t(d)},a=async()=>{var d;try{const x=(d=(await j.auth.getSession()).data.session)==null?void 0:d.access_token;if(!x)return;const v=await fetch("/api/oauth/clients",{headers:{Authorization:`Bearer ${x}`}});if(v.ok){const D=await v.json();m(D)}}catch(x){console.error("Error loading apps:",x)}finally{y(!1)}},l=(d,x)=>{navigator.clipboard.writeText(d),s(x),setTimeout(()=>s(null),2e3)};return o?e.jsx(_,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Developer Portal"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Build applications with Bankroll OAuth"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),"Create New App"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:e.jsx(A,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Apps"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:e.jsx(E,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.reduce((d,x)=>d+(x.active_users||0),0)})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:e.jsx(C,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"API Calls Today"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.reduce((d,x)=>d+(x.api_calls_today||0),0)})]})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",children:"Your Applications"}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating a new OAuth application."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),"Create New App"]})})]}):e.jsx("div",{className:"space-y-4",children:i.map(d=>e.jsx(P,{app:d,onSelect:()=>b(d),onCopy:l,copiedField:f},d.id))})]})})}),g&&e.jsx(B,{onClose:()=>h(!1),onSuccess:()=>{h(!1),a()}}),p&&e.jsx(I,{app:p,onClose:()=>b(null),onUpdate:a,onCopy:l,copiedField:f})]})}function P({app:r,onSelect:u,onCopy:t,copiedField:i}){const[m,o]=c.useState(!1);return e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[r.logo_url?e.jsx("img",{src:r.logo_url,alt:r.name,className:"h-12 w-12 rounded-lg object-cover"}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-500 flex items-center justify-center",children:e.jsx(A,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description||"No description"}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Client ID:"}),e.jsx("code",{className:"ml-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:r.client_id}),e.jsx("button",{onClick:()=>t(r.client_id,`client-id-${r.id}`),className:"ml-1 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:i===`client-id-${r.id}`?e.jsx(k,{className:"h-4 w-4 text-green-500"}):e.jsx(N,{className:"h-4 w-4 text-gray-400"})})]}),r.client_type==="confidential"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Secret:"}),e.jsx("code",{className:"ml-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:m?r.client_secret:"••••••••"}),e.jsx("button",{onClick:()=>o(!m),className:"ml-1 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:m?e.jsx(z,{className:"h-4 w-4 text-gray-400"}):e.jsx($,{className:"h-4 w-4 text-gray-400"})}),e.jsx("button",{onClick:()=>t(r.client_secret,`client-secret-${r.id}`),className:"ml-1 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:i===`client-secret-${r.id}`?e.jsx(k,{className:"h-4 w-4 text-green-500"}):e.jsx(N,{className:"h-4 w-4 text-gray-400"})})]})]})]})]}),e.jsx("button",{onClick:u,className:"ml-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(L,{className:"h-5 w-5 text-gray-400"})})]})})}function B({onClose:r,onSuccess:u}){const[t,i]=c.useState({name:"",description:"",redirect_uris:[""],client_type:"confidential",homepage_url:"",privacy_policy_url:"",terms_of_service_url:"",support_email:"",allowed_scopes:["openid","profile","email"]}),[m,o]=c.useState(!1),y=[{id:"openid",name:"OpenID",description:"Access unique identifier"},{id:"profile",name:"Profile",description:"Access basic profile information"},{id:"email",name:"Email",description:"Access email address"},{id:"wallets:read",name:"Read Wallets",description:"View wallet balances"},{id:"wallets:write",name:"Manage Wallets",description:"Perform wallet operations"},{id:"groups:read",name:"Read Groups",description:"View groups"},{id:"groups:write",name:"Manage Groups",description:"Create and manage groups"},{id:"friends:read",name:"Read Friends",description:"View friends list"},{id:"notifications:write",name:"Send Notifications",description:"Send notifications"},{id:"offline_access",name:"Offline Access",description:"Access data offline"}],g=async s=>{var n;s.preventDefault(),o(!0);try{const a=(n=(await j.auth.getSession()).data.session)==null?void 0:n.access_token,l=await fetch("/api/oauth/clients",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({...t,redirect_uris:t.redirect_uris.filter(d=>d.trim())})});if(l.ok)u();else{const d=await l.json();alert(`Error: ${d.error}`)}}catch(a){console.error("Error creating app:",a),alert("Failed to create application")}finally{o(!1)}},h=()=>{i({...t,redirect_uris:[...t.redirect_uris,""]})},p=(s,n)=>{const a=[...t.redirect_uris];a[s]=n,i({...t,redirect_uris:a})},b=s=>{const n=t.redirect_uris.filter((a,l)=>l!==s);i({...t,redirect_uris:n})},f=s=>{const n=t.allowed_scopes.includes(s)?t.allowed_scopes.filter(a=>a!==s):[...t.allowed_scopes,s];i({...t,allowed_scopes:n})};return e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Create New Application"})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Application Name *"}),e.jsx("input",{type:"text",required:!0,value:t.name,onChange:s=>i({...t,name:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("textarea",{rows:3,value:t.description,onChange:s=>i({...t,description:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client Type"}),e.jsxs("select",{value:t.client_type,onChange:s=>i({...t,client_type:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"confidential",children:"Confidential (Server-side apps)"}),e.jsx("option",{value:"public",children:"Public (Client-side apps)"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:t.client_type==="confidential"?"Can securely store client secret. Use for server-side applications.":"Cannot securely store secrets. Use for SPAs, mobile apps, etc."})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Redirect URIs *"}),e.jsxs("div",{className:"space-y-2",children:[t.redirect_uris.map((s,n)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"url",required:!0,value:s,onChange:a=>p(n,a.target.value),placeholder:"https://example.com/callback",className:"flex-1 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),t.redirect_uris.length>1&&e.jsx("button",{type:"button",onClick:()=>b(n),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:e.jsx(S,{className:"h-5 w-5"})})]},n)),e.jsx("button",{type:"button",onClick:h,className:"text-sm text-indigo-600 hover:text-indigo-500",children:"+ Add another redirect URI"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Permissions (Scopes)"}),e.jsx("div",{className:"space-y-2",children:y.map(s=>e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:t.allowed_scopes.includes(s.id),onChange:()=>f(s.id),disabled:["openid","profile","email"].includes(s.id),className:"mt-1 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.description})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Homepage URL"}),e.jsx("input",{type:"url",value:t.homepage_url,onChange:s=>i({...t,homepage_url:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Privacy Policy URL"}),e.jsx("input",{type:"url",value:t.privacy_policy_url,onChange:s=>i({...t,privacy_policy_url:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Terms of Service URL"}),e.jsx("input",{type:"url",value:t.terms_of_service_url,onChange:s=>i({...t,terms_of_service_url:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Support Email"}),e.jsx("input",{type:"email",value:t.support_email,onChange:s=>i({...t,support_email:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"Creating...":"Create Application"})]})]})]})})}function I({app:r,onClose:u,onUpdate:t,onCopy:i,copiedField:m}){var n;const[o,y]=c.useState("details"),[g,h]=c.useState([]),[p,b]=c.useState(!0);c.useEffect(()=>{f()},[r]);const f=async()=>{var a;try{const l=(a=(await j.auth.getSession()).data.session)==null?void 0:a.access_token,d=await fetch(`/api/oauth/clients/${r.client_id}/statistics`,{headers:{Authorization:`Bearer ${l}`}});if(d.ok){const x=await d.json();h(x)}}catch(l){console.error("Error loading statistics:",l)}finally{b(!1)}},s=async()=>{var a;if(confirm("Are you sure you want to delete this application? This action cannot be undone."))try{const l=(a=(await j.auth.getSession()).data.session)==null?void 0:a.access_token;(await fetch(`/api/oauth/clients/${r.client_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok&&(t(),u())}catch(l){console.error("Error deleting app:",l),alert("Failed to delete application")}};return e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.name}),e.jsxs("button",{onClick:u,className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-4",children:[e.jsx("button",{onClick:()=>y("details"),className:`pb-2 px-1 border-b-2 text-sm font-medium ${o==="details"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Details"}),e.jsx("button",{onClick:()=>y("statistics"),className:`pb-2 px-1 border-b-2 text-sm font-medium ${o==="statistics"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Statistics"}),e.jsx("button",{onClick:()=>y("settings"),className:`pb-2 px-1 border-b-2 text-sm font-medium ${o==="settings"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Settings"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[o==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Credentials"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client ID"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("code",{className:"flex-1 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-sm",children:r.client_id}),e.jsx("button",{onClick:()=>i(r.client_id,"detail-client-id"),className:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:m==="detail-client-id"?e.jsx(k,{className:"h-5 w-5 text-green-500"}):e.jsx(N,{className:"h-5 w-5 text-gray-400"})})]})]}),r.client_type==="confidential"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client Secret"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("code",{className:"flex-1 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-sm",children:r.client_secret}),e.jsx("button",{onClick:()=>i(r.client_secret,"detail-client-secret"),className:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:m==="detail-client-secret"?e.jsx(k,{className:"h-5 w-5 text-green-500"}):e.jsx(N,{className:"h-5 w-5 text-gray-400"})})]}),e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:"Keep this secret secure. Do not share it publicly or commit it to version control."})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"OAuth Endpoints"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Authorization:"}),e.jsx("code",{className:"ml-2 text-sm",children:"/api/oauth/authorize"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Token:"}),e.jsx("code",{className:"ml-2 text-sm",children:"/api/oauth/token"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User Info:"}),e.jsx("code",{className:"ml-2 text-sm",children:"/api/oauth/userinfo"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Revoke:"}),e.jsx("code",{className:"ml-2 text-sm",children:"/api/oauth/revoke"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Configuration"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Type"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white capitalize",children:r.client_type})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Redirect URIs"}),e.jsx("dd",{className:"text-sm text-gray-900 dark:text-white",children:r.redirect_uris.map((a,l)=>e.jsx("div",{className:"font-mono text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded mt-1",children:a},l))})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Allowed Scopes"}),e.jsx("dd",{className:"flex flex-wrap gap-2 mt-1",children:r.allowed_scopes.map(a=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:a},a))})]})]})]})]}),o==="statistics"&&e.jsx("div",{children:p?e.jsx("div",{className:"text-center py-8",children:e.jsx(_,{})}):g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"No statistics available yet"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Authorizations"}),e.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:g.reduce((a,l)=>a+l.authorization_count,0)})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Tokens Issued"}),e.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:g.reduce((a,l)=>a+l.token_count,0)})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Users"}),e.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:((n=g[0])==null?void 0:n.active_users)||0})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Daily Usage"}),e.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Authorizations"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tokens"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Active Users"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(a.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.authorization_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.token_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.active_users})]},a.id))})]})})]})]})}),o==="settings"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx("h5",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Danger Zone"}),e.jsx("p",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-300",children:"Deleting an application will revoke all access tokens and prevent users from signing in."}),e.jsxs("button",{onClick:s,className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Delete Application"]})]})})]})]})})}export{V as default};
