import{d as T,r as n,q as A,e as y,f as i,o as S,g as F,j as e,T as b,X as B,h as W,i as f,k as E,l as P}from"./main-Bt21LLck.js";import{P as M}from"./plus-Dh4NC-lY.js";import{S as q}from"./save-CdP6NBoK.js";import{P as H}from"./pen-DhCsUpBA.js";import{T as K}from"./trash-2-CaBEjahI.js";const O=()=>{const{isDark:r}=T(),[u,j]=n.useState([]),[v,m]=n.useState(!0),[c,x]=n.useState(null),[w,d]=n.useState(!1),[a,s]=n.useState({username:"",title:"Big Win",amount:"",platform:"DraftKings",time:"2 hours ago",how:"",howType:"slot",platformColor:"#F3701D",isActive:!0}),N=["DraftKings","FanDuel","Sleeper","ESPN BET","BetMGM","Caesars","Underdog","PointsBet","PrizePicks"],o={DraftKings:"#F3701D",FanDuel:"#0B79E0",Sleeper:"#F7B500","ESPN BET":"#D50A0A",BetMGM:"#FFB000",Caesars:"#1E4C91",Underdog:"#6B46C1",PointsBet:"#FF6900",PrizePicks:"#00D4FF"};n.useEffect(()=>{g()},[]);const g=async()=>{try{m(!0);const t=A(y(i,"winners"),S("createdAt","desc")),D=(await F(t)).docs.map(h=>({id:h.id,...h.data()}));j(D)}catch(t){console.error("Error fetching winners:",t)}finally{m(!1)}},$=async t=>{t.preventDefault();try{const l={...a,username:a.username,amount:parseFloat(a.amount),platformColor:o[a.platform],createdAt:new Date,updatedAt:new Date};c?await W(f(i,"winners",c.id),{...l,updatedAt:new Date}):await E(y(i,"winners"),l),await g(),p()}catch(l){console.error("Error saving winner:",l)}},k=async t=>{if(window.confirm("Are you sure you want to delete this winner?"))try{await P(f(i,"winners",t)),await g()}catch(l){console.error("Error deleting winner:",l)}},C=t=>{x(t),s({username:t.username||t.name||"",title:t.title||"Big Win",amount:t.amount.toString(),platform:t.platform,platformColor:t.platformColor||o[t.platform],time:t.time,how:t.how||"",howType:t.howType||"slot",isActive:t.isActive}),d(!0)},p=()=>{s({username:"",title:"Big Win",amount:"",platform:"DraftKings",platformColor:"#F3701D",time:"2 hours ago",how:"",howType:"slot",isActive:!0}),x(null),d(!1)};return e.jsxs("div",{className:`p-6 ${r?"bg-gray-900":"bg-white"} rounded-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:`h-6 w-6 ${r?"text-yellow-400":"text-yellow-600"}`}),e.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Winners Management"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(M,{className:"h-4 w-4"}),"Add Winner"]})]}),w&&e.jsx("div",{className:`mb-6 p-4 rounded-lg border ${r?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Winner Username"}),e.jsx("input",{type:"text",value:a.username,onChange:t=>s({...a,username:t.target.value}),placeholder:"@username",className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Win Title"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>s({...a,title:t.target.value}),placeholder:"e.g., Big Win, Jackpot, Hot Streak",className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Amount Won"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${r?"text-gray-400":"text-gray-600"}`,children:"$"}),e.jsx("input",{type:"number",value:a.amount,onChange:t=>s({...a,amount:t.target.value}),placeholder:"0.00",step:"0.01",className:`w-full pl-8 pr-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Platform"}),e.jsx("select",{value:a.platform,onChange:t=>s({...a,platform:t.target.value,platformColor:o[t.target.value]}),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,children:N.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Time Ago"}),e.jsx("input",{type:"text",value:a.time,onChange:t=>s({...a,time:t.target.value}),placeholder:"2 hours ago",className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"How They Won"}),e.jsxs("select",{value:a.howType,onChange:t=>s({...a,howType:t.target.value}),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[e.jsx("option",{value:"slot",children:"Slot Game"}),e.jsx("option",{value:"blackjack",children:"Blackjack"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"single",children:"Single Bet"}),e.jsx("option",{value:"sidebet",children:"SideBet Jackpot"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Win Details"}),e.jsx("textarea",{value:a.how,onChange:t=>s({...a,how:t.target.value}),placeholder:a.howType==="slot"?"e.g., Triple 7s on Mega Moolah, 100x multiplier":a.howType==="blackjack"?"e.g., Split Aces, got 21 on both hands":a.howType==="parlay"?"e.g., 5-leg parlay: Lakers +5, Over 220.5...":a.howType==="single"?"e.g., Chiefs -3.5":a.howType==="sidebet"?"e.g., Hit the Royal Flush jackpot on Texas Hold'em":"Describe how they won...",rows:3,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.isActive,onChange:t=>s({...a,isActive:t.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:"Show in carousel"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),c?"Update":"Save"]}),e.jsxs("button",{type:"button",onClick:p,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[e.jsx(B,{className:"h-4 w-4"}),"Cancel"]})]})]})}),v?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"})}):e.jsx("div",{className:"space-y-3",children:u.length===0?e.jsx("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-600"}`,children:'No winners added yet. Click "Add Winner" to get started.'}):u.map(t=>e.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} ${t.isActive?"":"opacity-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${r?"bg-gray-700":"bg-gray-100"}`,children:e.jsx(b,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:t.username||t.name}),e.jsxs("span",{className:`text-lg font-bold ${r?"text-green-400":"text-green-600"}`,children:["$",t.amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:`${o[t.platform]}20`,color:o[t.platform],border:`1px solid ${o[t.platform]}`},children:t.platform}),e.jsx("span",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:t.time}),!t.isActive&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:"Hidden"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(t),className:`p-2 rounded-lg transition-colors ${r?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>k(t.id),className:`p-2 rounded-lg transition-colors ${r?"hover:bg-red-900/50 text-red-400":"hover:bg-red-50 text-red-600"}`,children:e.jsx(K,{className:"h-4 w-4"})})]})]})},t.id))})]})};export{O as W};
