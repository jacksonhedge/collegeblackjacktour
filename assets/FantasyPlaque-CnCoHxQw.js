import{a7 as W,u as G,r as i,z as o,j as e,T as X,X as K}from"./main-CIF9t6XU.js";import{S as w}from"./star-C_lx-ZPB.js";import{M as V}from"./minus-wU8vuv7m.js";import{P as Z}from"./plus-0mQGkKq9.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),le=()=>{const B=G(),[c,g]=i.useState([]),[j,L]=i.useState("2024"),[h,A]=i.useState(""),[f,E]=i.useState([]),[F,R]=i.useState(null),[y,T]=i.useState([]),[d,U]=i.useState(null),[x,v]=i.useState({}),[S,p]=i.useState(!1),[C,k]=i.useState(!1),[m,_]=i.useState({}),Y=30,u=[{id:"base",name:"Base Card",price:5,description:"Standard player card"},{id:"silver",name:"Silver Card",price:10,description:"Holographic silver finish"},{id:"gold",name:"Gold Card",price:15,description:"Premium gold foil"},{id:"platinum",name:"Platinum Card",price:25,description:"Limited edition platinum"},{id:"autograph",name:"Autograph Card",price:50,description:"Replica autograph edition"}];i.useEffect(()=>{D()},[]);const D=async()=>{const s=localStorage.getItem("nfl_players_2024");if(s)v(JSON.parse(s));else{const t=await o.getNFLPlayers();v(t),localStorage.setItem("nfl_players_2024",JSON.stringify(t))}},z=async()=>{if(h){p(!0);try{const s=await o.getUser(h),t=await o.getUserLeagues(s.user_id,j);E(t)}catch(s){console.error("Error loading leagues:",s)}p(!1)}},M=async s=>{p(!0);try{const[t,l]=await Promise.all([o.getLeagueUsers(s),o.getLeagueRosters(s)]),a=l.map(n=>{var b;const r=t.find(J=>J.user_id===n.owner_id);return{...n,display_name:(r==null?void 0:r.display_name)||"Unknown",team_name:((b=r==null?void 0:r.metadata)==null?void 0:b.team_name)||(r==null?void 0:r.display_name)||"Unknown"}});T(a),R(s)}catch(t){console.error("Error loading rosters:",t)}p(!1)},H=s=>{U(s),c.some(a=>a.type==="plaque")||g([...c,{id:"plaque",type:"plaque",name:`Fantasy Plaque - ${s.team_name} (${j})`,price:Y,quantity:1}]);const l={};s.players.forEach(a=>{x[a]&&(l[a]="base")}),_(l),$(l)},P=(s,t)=>{g(l=>l.map(a=>{if(a.id===s){const n=Math.max(0,a.quantity+t);return{...a,quantity:n}}return a}).filter(a=>a.quantity>0))},$=s=>{const t=[];Object.entries(s).forEach(([l,a])=>{if(a&&x[l]){const n=x[l],r=u.find(b=>b.id===a);t.push({id:`card-${l}-${a}`,type:"card",playerId:l,tierId:a,name:`${n.first_name} ${n.last_name} - ${r.name}`,team:n.team,position:n.position,price:r.price,quantity:1})}}),g(l=>[...l.filter(n=>n.type!=="card"),...t])},q=(s,t)=>{const l={...m,[s]:t};_(l),$(l)},N=()=>c.reduce((s,t)=>s+t.price*t.quantity,0),O=()=>c.reduce((s,t)=>s+t.quantity,0),Q=()=>{alert("Stripe checkout coming soon! Total: $"+N())};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#9D8CDB] via-[#B5A7E6] to-[#7B68D8]",children:[e.jsx("nav",{className:"bg-white/10 backdrop-blur-md border-b border-white/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(X,{className:"w-8 h-8"}),"Fantasy Plaque"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>k(!C),className:"relative bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full hover:bg-white/30 transition-colors flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{children:O()}),e.jsxs("span",{className:"font-bold",children:["$",N()]})]}),e.jsx("button",{onClick:()=>B("/"),className:"text-white/80 hover:text-white",children:"Back to Home"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Memorialize Your Fantasy Team Forever"}),e.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:"Create a custom plaque featuring your championship fantasy football team. Each plaque includes premium player cards showcasing your winning roster."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-6 text-white",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"1"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Connect Sleeper"}),e.jsx("p",{className:"text-white/80",children:"Enter your Sleeper username to access your leagues"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-6 text-white",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"2"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Select Your Team"}),e.jsx("p",{className:"text-white/80",children:"Choose the championship team you want to memorialize"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-6 text-white",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"3"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Order Your Plaque"}),e.jsx("p",{className:"text-white/80",children:"Customize and order your plaque with player cards"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Step 1: Connect Your Sleeper Account"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("input",{type:"text",placeholder:"Enter your Sleeper username",value:h,onChange:s=>A(s.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-white/20 backdrop-blur-sm text-white placeholder-white/60 border border-white/30"}),e.jsxs("select",{value:j,onChange:s=>L(s.target.value),className:"px-4 py-2 rounded-lg bg-white/20 backdrop-blur-sm text-white border border-white/30",children:[e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]}),e.jsx("button",{onClick:z,disabled:!h||S,className:"px-6 py-2 bg-[#5B3A9B] text-white rounded-lg hover:bg-[#4A2F82] transition-colors disabled:opacity-50",children:S?"Loading...":"Load Leagues"})]})]}),f.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Step 2: Select Your League"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(s=>e.jsxs("button",{onClick:()=>M(s.league_id),className:`p-4 rounded-lg border transition-all ${F===s.league_id?"bg-[#5B3A9B] border-[#5B3A9B] text-white":"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30"}`,children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm opacity-80",children:[s.total_rosters," teams"]})]},s.league_id))})]}),y.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Step 3: Select Your Team"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(s=>{var t;return e.jsxs("button",{onClick:()=>H(s),className:`p-4 rounded-lg border transition-all ${(d==null?void 0:d.roster_id)===s.roster_id?"bg-[#5B3A9B] border-[#5B3A9B] text-white":"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30"}`,children:[e.jsx("h4",{className:"font-semibold",children:s.team_name}),e.jsxs("p",{className:"text-sm opacity-80",children:[s.settings.wins,"-",s.settings.losses,s.settings.ties>0&&`-${s.settings.ties}`]}),((t=s.metadata)==null?void 0:t.streak)&&e.jsx("p",{className:"text-xs mt-1",children:s.metadata.streak>0?`W${s.metadata.streak}`:`L${Math.abs(s.metadata.streak)}`})]},s.roster_id)})})]}),d&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Select Your Player Cards"}),e.jsx("p",{className:"text-white/80 mb-6",children:"Choose the card tier for each player on your roster. Scroll through your players and select the card type you want for each."}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-white mb-6",children:d.team_name}),e.jsx("div",{className:"space-y-6 max-h-[600px] overflow-y-auto",children:d.players.map(s=>{var l;const t=x[s];return t?e.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:o.getPlayerHeadshotUrl(s),alt:`${t.first_name} ${t.last_name}`,className:"w-20 h-20 rounded-full",onError:a=>{a.target.src="/placeholder-player.png"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"text-lg font-semibold text-white",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-sm text-white/80 mb-3",children:[t.position," - ",t.team]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[u.map(a=>e.jsxs("button",{onClick:()=>q(s,a.id),className:`p-2 rounded-lg border text-sm transition-all ${m[s]===a.id?"bg-[#5B3A9B] border-[#5B3A9B] text-white":"bg-white/10 border-white/30 text-white/90 hover:bg-white/20"}`,children:[e.jsx("div",{className:"font-semibold",children:a.name}),e.jsxs("div",{className:"text-xs opacity-80",children:["$",a.price]})]},a.id)),e.jsxs("button",{onClick:()=>q(s,null),className:`p-2 rounded-lg border text-sm transition-all ${m[s]?"bg-white/10 border-white/30 text-white/90 hover:bg-white/20":"bg-red-500/20 border-red-500 text-white"}`,children:[e.jsx("div",{className:"font-semibold",children:"No Card"}),e.jsx("div",{className:"text-xs opacity-80",children:"Skip"})]})]}),m[s]&&e.jsx("p",{className:"text-xs text-white/60 mt-2",children:(l=u.find(a=>a.id===m[s]))==null?void 0:l.description})]})]})},s):null})})]})]})]}),e.jsxs("div",{className:"mt-12 bg-white/20 backdrop-blur-md rounded-lg p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Pricing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Fantasy Plaque - $30"}),e.jsxs("ul",{className:"space-y-2 text-white/80",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Premium wood or acrylic plaque"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Custom engraving with team name and season"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Display slots for all player cards"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Player Cards - Starting at $5"}),e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsx("div",{className:"border-l-4 border-white/30 pl-3",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium",children:[s.name," - $",s.price]}),e.jsx("p",{className:"text-sm text-white/70",children:s.description})]})})},s.id))}),e.jsx("p",{className:"text-sm text-white/60 mt-3",children:"All cards include protective sleeves and player stats"})]})]})]})]}),C&&e.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg z-50 overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Shopping Cart"}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(K,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"p-6",children:c.length===0?e.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}):e.jsxs(e.Fragment,{children:[c.map(s=>e.jsxs("div",{className:"mb-4 pb-4 border-b",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.name}),s.team&&e.jsx("p",{className:"text-sm text-gray-600",children:s.team})]}),e.jsxs("span",{className:"font-semibold",children:["$",s.price*s.quantity]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>P(s.id,-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-12 text-center",children:s.quantity}),e.jsx("button",{onClick:()=>P(s.id,1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4"})})]})]},s.id)),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex justify-between text-xl font-bold mb-4",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",N()]})]}),e.jsx("button",{onClick:Q,className:"w-full bg-[#5B3A9B] text-white py-3 rounded-lg hover:bg-[#4A2F82] transition-colors font-semibold",children:"Proceed to Checkout"})]})]})})]})]})};export{le as default};
