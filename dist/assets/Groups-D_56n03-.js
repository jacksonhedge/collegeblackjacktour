import{y as U,d as G,a3 as A,J as F,u as I,r as y,j as e,U as S,Q as j,V as N,m as P}from"./main-Bt21LLck.js";import{I as T}from"./InviteUsersModalEnhanced-DzMhSZ1e.js";import{m as M}from"./mockGroups-BwmsS2Tb.js";import{U as v}from"./user-plus-Dirox3Wp.js";import{P as R}from"./plus-Dh4NC-lY.js";import{S as E}from"./sparkles-h5yvNaKo.js";import{A as J}from"./arrow-up-right-DQDCwTvG.js";import"./alert-CI59Zt6X.js";import"./button-BARmkLdK.js";import"./input-mT1JNf1K.js";import"./EmailService-J_ppV6FB.js";import"./key-mOMej07n.js";import"./copy-By8Hpzvk.js";import"./mail-Dke56W7c.js";import"./message-square-Wx_HBuIi.js";import"./share-2-B0yFjM8-.js";const re=()=>{const{currentUser:L}=U(),{isDark:r}=G(),{trackEvent:x,trackButtonClick:a,trackFeatureUsage:w}=A(),{groups:f,loading:_}=F(),l=I(),[p,k]=y.useState("my-groups"),[C,h]=y.useState(!1),[g,u]=y.useState(null),c={sleeper:"/images/sleeperFantasy.png",espn:"/images/espnFantasy.png",yahoo:"/images/yahoofantasy.png",general:null};return e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Groups"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Team up with friends to share bankrolls and compete together"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{a("join_group_header"),l("/groups/join")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(v,{className:"w-4 h-4"}),"Join Group"]}),e.jsxs("button",{onClick:()=>{a("create_group_header"),l("/groups/create")},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[e.jsx(R,{className:"w-4 h-4"}),"Create Group"]})]})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["my-groups","discover"].map(s=>e.jsx("button",{onClick:()=>{k(s),a(`groups_tab_${s}`),x("groups_tab_changed",{tab:s})},className:`px-4 py-2 rounded-lg font-medium transition-all ${p===s?"bg-purple-600 text-white":"bg-gray-800/50 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s==="my-groups"?"My Groups":s.charAt(0).toUpperCase()+s.slice(1)},s))}),p==="my-groups"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_?e.jsx("div",{className:"col-span-full flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(S,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"No groups yet"}),e.jsx("p",{className:"mb-6 text-gray-300",children:"Create your first group or join an existing one"}),e.jsx("button",{onClick:()=>l("/groups/create"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:"Create Group"})]}):f.map(s=>{var n,d,m,o;return e.jsx(j,{className:"transition-all hover:scale-[1.02] bg-gray-800/50 border-purple-500/20 hover:border-purple-500/40",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:s.emoji||"ðŸ‘¥"}),s.platform&&c[s.platform]&&e.jsx("img",{src:c[s.platform],alt:s.platform,className:"w-6 h-6 rounded"})]}),s.type==="fantasy"&&e.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-purple-900/30 text-purple-400",children:"Fantasy League"})]}),e.jsx("h3",{className:"font-semibold mb-3 cursor-pointer text-white hover:text-purple-400 transition-colors",onClick:()=>l(`/group/${s.id}`),children:s.name}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsxs("div",{className:"flex -space-x-2",children:[(n=s.members)==null?void 0:n.slice(0,4).map((t,i)=>t.photoURL?e.jsx("img",{src:t.photoURL,alt:t.displayName||t.firstName,className:`w-8 h-8 rounded-full border-2 ${r?"border-gray-800":"border-white"}`},t.uid||t.id||i):e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-bold ${r?"bg-purple-600 border-gray-800 text-white":"bg-purple-600 border-white text-white"}`,children:(t.displayName||t.firstName||"?")[0].toUpperCase()},t.uid||t.id||i)),((d=s.members)==null?void 0:d.length)>4&&e.jsxs("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-medium ${r?"bg-gray-700 border-gray-800 text-gray-300":"bg-gray-100 border-white text-gray-600"}`,children:["+",s.members.length-4]})]}),e.jsxs("span",{className:"ml-3 text-sm text-gray-300",children:[((m=s.members)==null?void 0:m.length)||0," members"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Balance"}),e.jsxs("span",{className:"font-bold text-white",children:["$",(((o=s.wallet)==null?void 0:o.cashBalance)||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),a("group_view",{group_id:s.id,group_name:s.name}),x("group_viewed",{group_id:s.id,group_name:s.name,group_balance:s.balance}),l(`/group/${s.id}`)},className:"flex-1 px-3 py-2 rounded-lg font-medium transition-colors bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white",children:"View"}),e.jsxs("button",{onClick:t=>{t.stopPropagation(),u(s),h(!0),a("group_invite",{group_id:s.id,group_name:s.name}),w("invite_modal",{context:"groups_page",group_id:s.id})},className:"px-3 py-2 rounded-lg font-medium transition-colors flex items-center gap-1 bg-purple-600/20 text-purple-400 hover:bg-purple-600/30",children:[e.jsx(v,{className:"w-4 h-4"}),"Invite"]})]})]})},s.id)})}),p==="discover"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Trending Groups"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900/30 text-yellow-400",children:"ðŸ”¥ Hot"})]}),e.jsx("p",{className:`text-sm mb-4 ${r?"text-gray-400":"text-gray-600"}`,children:"Join high-performing groups and grow your bankroll together"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(s=>{const n=s.weeklyGrowth>10?"text-green-500":"text-yellow-500",d=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(i),m=Math.max(...s.weeklyActivity),o=Math.min(...s.weeklyActivity),t=m-o;return e.jsx(j,{className:`relative overflow-hidden transition-all hover:scale-[1.02] cursor-pointer ${r?"bg-gray-800/50 border-purple-500/20":"bg-white border-purple-200"}`,onClick:()=>{x("discover_group_clicked",{groupId:s.id,groupName:s.name})},children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:s.emoji}),s.platform&&c[s.platform]&&e.jsx("img",{src:c[s.platform],alt:s.platform,className:"w-6 h-6 rounded"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${n}`,children:[e.jsx(P,{className:"w-4 h-4"}),"+",s.weeklyGrowth,"%"]})]}),e.jsx("h3",{className:`font-semibold mb-1 ${r?"text-white":"text-gray-900"}`,children:s.name}),e.jsx("p",{className:`text-xs mb-3 ${r?"text-gray-400":"text-gray-600"}`,children:s.description}),e.jsx("div",{className:"mb-3 h-12 flex items-end gap-1",children:s.weeklyActivity.map((i,b)=>{const $=t>0?(i-o)/t*100:50;return e.jsx("div",{className:`flex-1 bg-gradient-to-t ${b===s.weeklyActivity.length-1?"from-green-500/40 to-green-500":"from-purple-500/20 to-purple-500/40"} rounded-t`,style:{height:`${$}%`}},b)})}),e.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-900/50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:"Pooled Funds"}),e.jsx(J,{className:`w-3 h-3 ${n}`})]}),e.jsx("div",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:d(s.pooledFunds)})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:[s.memberCount," members"]}),e.jsx("button",{onClick:()=>{a("request_to_join_trending",{group_id:s.id,group_name:s.name}),l("/groups/join")},className:`text-xs px-3 py-1 rounded-full font-medium transition-colors ${r?"bg-purple-600/20 text-purple-400 hover:bg-purple-600/30":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:"Request to Join"})]})})]})},s.id)})})]}),C&&g&&e.jsx(T,{groupId:g.id,groupName:g.name,onClose:()=>{h(!1),u(null)},onInvite:()=>{h(!1),u(null)}})]})};export{re as default};
