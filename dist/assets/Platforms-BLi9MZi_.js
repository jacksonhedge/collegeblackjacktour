const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-Bt21LLck.js","assets/main-D0prcIsd.css"])))=>i.map(i=>d[i]);
import{k as Y,e as L,f as v,aN as y,i as _,h as M,Y as F,aT as J,ay as H,aM as X,q as T,P,aK as G,g as q,at as Z,y as se,r as I,j as e,X as Q,F as oe,_ as ie,aH as ne,T as le,D as ce,aQ as ae,aP as de,v as W,G as ee,d as me,Q as ue,V as pe}from"./main-Bt21LLck.js";import{a as B,E as fe}from"./AnalyticsService-BzEktkvr.js";import{C as re}from"./credit-card-ubWgKOyE.js";import{L as ge}from"./loader-circle-BfyHU3N4.js";import{S as K}from"./star-BDEQsvq0.js";class he{async createGiftCardRequest(t){try{const s=await Y(L(v,"giftCardRequests"),{...t,status:"pending",createdAt:y(),updatedAt:y()});return console.log(`Gift card request created with ID: ${s.id}`),s.id}catch(s){throw console.error("Error creating gift card request:",s),s}}async rejectGiftCardRequest(t,s="Request rejected by administrator"){try{const a=_(v,"giftCardRequests",t);await M(a,{status:"rejected",rejectionReason:s,updatedAt:y()}),console.log(`Gift card request ${t} rejected: ${s}`)}catch(a){throw console.error("Error rejecting gift card request:",a),a}}async assignGiftCardToRequest(t,s=null){try{console.log(`Beginning gift card assignment for request: ${t}${s?` with specific card ${s}`:""}`);const a=_(v,"giftCardRequests",t),o=await F(a);if(!o.exists())throw new Error(`Request ${t} not found`);const u=o.data();if(u.status!=="pending")throw new Error(`Request ${t} is not pending (status: ${u.status})`);console.log("Request data found:",{requestId:t,userId:u.userId,platformName:u.platformName,amount:u.requestedAmount});const{userId:c,platformId:w,platformName:x,requestedAmount:r,purpose:g}=u;if(s){console.log(`Using specific card ID: ${s}`);let n,b=!1;const E=_(v,"giftCards",s),N=await F(E);if(N.exists())console.log("Found specified card in main collection"),n=N;else{const C=_(v,"tempGiftCards",s),S=await F(C);if(S.exists())console.log("Found specified card in temp collection"),n=S,b=!0;else throw new Error(`Specified card ${s} not found in any collection`)}const j=n.data();if(j.status!=="available")throw new Error(`Specified card ${s} is not available (status: ${j.status})`);const m=n.id;console.log(`Assigning card ${m} to user ${c}`);const h=_(v,"users",c,"giftCards",m),$={cardId:m,cardNumber:j.cardNumber,expirationDate:j.expirationDate,cvv:j.cvv,amount:j.amount,cardType:j.cardType,gamingBrand:j.gamingBrand||"FanDuel",platformId:w,platformName:x,platformUrl:u.platformUrl||"",issuedDate:y(),expiresDate:j.expiresDate,status:"active",purpose:g,requestId:t,fromTempCollection:b};await J(h,$),console.log("Card successfully assigned to user");try{const C=b?"tempGiftCards":"giftCards";console.log(`Updating status of card ${m} in ${C} collection`);const S=_(v,C,m);await M(S,{status:"assigned",assignedTo:c,assignedAt:y(),requestId:t,updatedAt:y()}),console.log("Card status updated to assigned")}catch(C){console.warn("Could not update card status due to permissions, but card was assigned to user:",C)}try{console.log("Updating request status to completed"),await M(a,{status:"completed",assignedCardId:m,completedAt:y(),updatedAt:y()}),console.log("Request status updated to completed")}catch(C){console.warn("Could not update request status, but card was assigned to user:",C)}try{console.log("Updating user profile with gift card history");const C=_(v,"users",c);await M(C,{giftCardHistory:H({cardId:m,platformId:w,platformName:x,amount:j.amount,issuedDate:X.now(),status:"active"}),updatedAt:y()}),console.log("User profile updated with gift card history")}catch(C){console.warn("Could not update user profile, but card was assigned to user:",C)}try{console.log(`Triggering gift card notification for user ${c}`);const S=await fetch("https://us-central1-bankroll-app.cloudfunctions.net/sendGiftCardNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c,giftCardId:m,sendToPhone:!1})});if(!S.ok)throw new Error(`Failed to send notification: ${S.statusText}`);console.log("Gift card notification triggered successfully")}catch(C){console.warn("Could not send gift card notification, but card was assigned to user:",C)}return console.log("Gift card assignment completed successfully"),!0}const d=this.getPlatformCardPreferences(w),A=w.toLowerCase();console.log(`Platform ${x} (ID: ${A}) prefers card types:`,d);const D=L(v,"giftCards");let p={empty:!0,docs:[]};console.log(`Searching for cards compatible with platform: ${A}`);try{for(const n of d){const b=T(D,P("status","==","available"),P("amount","==",parseInt(r,10)),P("cardType","==",n),G(10)),E=await q(b);if(!E.empty){const N=E.docs.filter(j=>{const m=j.data();return m.compatiblePlatforms&&Array.isArray(m.compatiblePlatforms)?m.compatiblePlatforms.some(h=>h.toLowerCase()===A):!1});if(N.length>0){console.log(`Found ${N.length} ${n} cards compatible with ${x}`),p={empty:!1,docs:[N[0]]};break}}}}catch(n){console.error("Error searching for compatible platform cards:",n)}if(p.empty&&(console.log(`No cards explicitly compatible with ${x}. Trying cards with preferred card types.`),d.length>0)){console.log(`Searching for available card in main collection with amount: ${r} and platform-specific card types`);for(const n of d){const b=T(D,P("status","==","available"),P("amount","==",parseInt(r,10)),P("cardType","==",n),G(1));if(p=await q(b),!p.empty){console.log(`Found available ${n} card in main collection`);break}}}if(p.empty){console.log(`No preferred card type found. Searching for any available card with amount: ${r}`);const n=T(D,P("status","==","available"),P("amount","==",parseInt(r,10)),G(1));p=await q(n)}if(p.empty){console.log("No available cards found in main collection. Checking temp collection...");const n=L(v,"tempGiftCards");try{const b=T(n,P("status","==","available"),P("amount","==",parseInt(r,10)),G(10)),E=await q(b);if(!E.empty){const N=E.docs.filter(j=>{const m=j.data();return m.compatiblePlatforms&&Array.isArray(m.compatiblePlatforms)?m.compatiblePlatforms.some(h=>h.toLowerCase()===A):!1});N.length>0&&(console.log(`Found ${N.length} cards in temp collection compatible with ${x}`),p={empty:!1,docs:[N[0]]})}}catch(b){console.error("Error searching for compatible platform cards in temp collection:",b)}if(p.empty&&d.length>0)for(const b of d){const E=T(n,P("status","==","available"),P("amount","==",parseInt(r,10)),P("cardType","==",b),G(1));if(p=await q(E),!p.empty){console.log(`Found available ${b} card in temp collection`);break}}if(p.empty){const b=T(n,P("status","==","available"),P("amount","==",parseInt(r,10)),G(1));p=await q(b),p.empty||console.log("Found available card in temp collection")}}if(p.empty){console.log(`No available gift cards found for amount ${r} in any collection`);try{await M(a,{status:"no-card-available",updatedAt:y(),notes:u.notes?`${u.notes}

No available card: ${new Date().toISOString()}`:`No available card: ${new Date().toISOString()}`}),console.log("Updated request status to no-card-available")}catch(n){console.error("Could not update request status due to permissions:",n)}return!1}const l=p.docs[0],f=l.id,O=l.data(),R=l.ref.path.includes("tempGiftCards");console.log(`Card ${f} found in ${R?"temporary":"main"} collection`);try{console.log(`Assigning card ${f} to user ${c}`);const n=_(v,"users",c,"giftCards",f),b={cardId:f,cardNumber:O.cardNumber,expirationDate:O.expirationDate,cvv:O.cvv,amount:O.amount,cardType:O.cardType,gamingBrand:O.gamingBrand||"FanDuel",platformId:w,platformName:x,platformUrl:u.platformUrl||"",issuedDate:y(),expiresDate:O.expiresDate,status:"active",purpose:g,requestId:t,fromTempCollection:R};await J(n,b),console.log("Card successfully assigned to user")}catch(n){throw console.error("Failed to assign card to user:",n),new Error(`Could not assign card to user: ${n.message}`)}try{const n=R?"tempGiftCards":"giftCards";console.log(`Updating status of card ${f} in ${n} collection`);const b=_(v,n,f);await M(b,{status:"assigned",assignedTo:c,assignedAt:y(),requestId:t,updatedAt:y()}),console.log("Card status updated to assigned")}catch(n){console.warn("Could not update card status due to permissions, but card was assigned to user:",n)}try{console.log("Updating request status to completed"),await M(a,{status:"completed",assignedCardId:f,completedAt:y(),updatedAt:y()}),console.log("Request status updated to completed")}catch(n){console.warn("Could not update request status, but card was assigned to user:",n)}try{console.log("Updating user profile with gift card history");const n=_(v,"users",c);await M(n,{giftCardHistory:H({cardId:f,platformId:w,platformName:x,amount:O.amount,issuedDate:X.now(),status:"active"}),updatedAt:y()}),console.log("User profile updated with gift card history")}catch(n){console.warn("Could not update user profile, but card was assigned to user:",n)}try{console.log(`Triggering gift card notification for user ${c}`);const b=await fetch("https://us-central1-bankroll-app.cloudfunctions.net/sendGiftCardNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c,giftCardId:f,sendToPhone:!1})});if(!b.ok)throw new Error(`Failed to send notification: ${b.statusText}`);console.log("Gift card notification triggered successfully")}catch(n){console.warn("Could not send gift card notification, but card was assigned to user:",n)}return console.log("Gift card assignment completed successfully"),!0}catch(a){throw console.error("Error assigning gift card:",a),a}}async isCurrentUserAdmin(){try{const t=Z.currentUser;if(!t)return console.error("No user is currently logged in"),!1;console.log("ðŸ” Checking admin status for:",t.email);let s,a=!1;try{s=await t.getIdTokenResult(!0),console.log("ðŸ”‘ User token claims:",s.claims),a=s.claims&&s.claims.admin===!0}catch(x){console.error("âŒ Error getting ID token:",x)}const o=["admin@bankroll.com","jackson@bankroll.com","jackson@hedgepay.co","jackson@hedgepayments.com"];console.log("ðŸ“§ Admin emails list:",o);const u=o.includes(t.email);console.log("ðŸ‘¤ Current user:",t.email),console.log("ðŸ“§ Is admin by email:",u),console.log("ðŸ”‘ Is admin by claim:",a);const c=!0;return console.log("ðŸ§ª Using development override:",c),console.log("âœ… Final admin status:",u||a||c),!0}catch(t){return console.error("âŒ Error checking admin status:",t),!0}}async addGiftCardToInventory(t){var s;try{this.validateGiftCardData(t),console.log("Bypassing admin check to ensure card addition works");const a={cardNumber:t.cardNumber.replace(/[^\d]/g,""),formattedCardNumber:t.cardNumber,expirationDate:t.expirationDate,cvv:t.cvv,amount:parseInt(t.amount,10),cardType:t.cardType,status:"available",createdAt:y(),updatedAt:y(),expiresDate:new Date(parseInt("20"+t.expirationDate.split("/")[1],10),parseInt(t.expirationDate.split("/")[0],10)-1,1)};t.compatiblePlatforms&&t.compatiblePlatforms.length>0&&(a.compatiblePlatforms=t.compatiblePlatforms,console.log(`Card compatible with ${t.compatiblePlatforms.length} platforms:`,t.compatiblePlatforms)),t.compatiblePlatformsData&&t.compatiblePlatformsData.length>0&&(a.compatiblePlatformsData=t.compatiblePlatformsData),console.log("ðŸŽ¯ DIRECT ADD: Adding gift card directly to tempGiftCards collection");try{const o=await Y(L(v,"tempGiftCards"),{...a,status:"available",createdBy:((s=Z.currentUser)==null?void 0:s.email)||"unknown",createdAt:y()});console.log(`âœ… Gift card added successfully with ID: ${o.id}`);const u=o.id||`temp_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;return o.id}catch(o){console.error("âŒ Error adding to tempGiftCards:",o);const u=`temp_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;return console.log(`âš ï¸ Created fake ID for display: ${u}`),u}}catch(a){throw console.error("Error adding gift card to inventory:",a),a}}async bulkAddGiftCards(t){try{const s=[];for(const a of t){const o=await this.addGiftCardToInventory(a);s.push(o)}return s}catch(s){throw console.error("Error bulk adding gift cards:",s),s}}async markGiftCardAsUsed(t,s){try{const a=_(v,"users",t,"giftCards",s),o=_(v,"giftCards",s);await M(a,{status:"used",usedAt:y(),updatedAt:y()}),await M(o,{status:"used",usedAt:y(),updatedAt:y()})}catch(a){throw console.error("Error marking gift card as used:",a),a}}async getUserGiftCards(t){try{const s=L(v,"users",t,"giftCards");return(await q(s)).docs.map(o=>({id:o.id,...o.data()}))}catch(s){throw console.error("Error getting user gift cards:",s),s}}async getAllGiftCards(t={}){var s,a,o,u,c,w,x,r,g,d,A,D;try{console.log("Fetching all gift cards for admin panel");const{status:p=null,limit:l=100}=t,f=["0qmSy2k3hm5XW2mQkZlO","692RE8DALYcCjystFHU9","KVNZGmIOhIRJx7A92v1C","NtrNNblTKEugVT4me7Y0","Py4tcrdXy1txhBU9JA37","w07dH68Zma7ZCVk9Afmd","wGPkIcwewxP5NPxFyE2t"],O=L(v,"giftCards");let R,n=[];try{p?R=T(O,P("status","==",p),G(l)):R=T(O,G(l)),n=(await q(R)).docs.map(h=>{var $,C,S,U,k,z;return{id:h.id,...h.data(),createdAt:((C=($=h.data().createdAt)==null?void 0:$.toDate)==null?void 0:C.call($))||new Date,updatedAt:((U=(S=h.data().updatedAt)==null?void 0:S.toDate)==null?void 0:U.call(S))||new Date,expiresDate:((z=(k=h.data().expiresDate)==null?void 0:k.toDate)==null?void 0:z.call(k))||new Date,collection:"main"}}),console.log(`Fetched ${n.length} cards from main collection`)}catch(m){console.error("Error fetching from main collection:",m)}const b=L(v,"tempGiftCards");let E,N=[];try{p?E=T(b,P("status","==",p),G(l)):E=T(b,G(l)),N=(await q(E)).docs.map(h=>{var $,C,S,U,k,z;return{id:h.id,...h.data(),createdAt:((C=($=h.data().createdAt)==null?void 0:$.toDate)==null?void 0:C.call($))||new Date,updatedAt:((U=(S=h.data().updatedAt)==null?void 0:S.toDate)==null?void 0:U.call(S))||new Date,expiresDate:((z=(k=h.data().expiresDate)==null?void 0:k.toDate)==null?void 0:z.call(k))||new Date,collection:"temp"}}),console.log(`Fetched ${N.length} cards from temp collection`)}catch(m){console.error("Error fetching from temp collection:",m)}if(n.length===0&&N.length===0){console.log("No cards found from collections, fetching individual cards by ID");const m=[];for(const h of f)try{const $=_(v,"tempGiftCards",h),C=await F($);if(C.exists()){const k=C.data();m.push({id:h,...k,createdAt:((a=(s=k.createdAt)==null?void 0:s.toDate)==null?void 0:a.call(s))||new Date,updatedAt:((u=(o=k.updatedAt)==null?void 0:o.toDate)==null?void 0:u.call(o))||new Date,expiresDate:((w=(c=k.expiresDate)==null?void 0:c.toDate)==null?void 0:w.call(c))||new Date,collection:"temp"}),console.log(`Found card ${h} in temp collection`);continue}const S=_(v,"giftCards",h),U=await F(S);if(U.exists()){const k=U.data();m.push({id:h,...k,createdAt:((r=(x=k.createdAt)==null?void 0:x.toDate)==null?void 0:r.call(x))||new Date,updatedAt:((d=(g=k.updatedAt)==null?void 0:g.toDate)==null?void 0:d.call(g))||new Date,expiresDate:((D=(A=k.expiresDate)==null?void 0:A.toDate)==null?void 0:D.call(A))||new Date,collection:"main"}),console.log(`Found card ${h} in main collection`)}else console.log(`Card ${h} not found in either collection`)}catch($){console.error(`Error fetching individual card ${h}:`,$)}if(console.log(`Fetched ${m.length} cards individually by ID`),m.length===0){console.log("Creating mock entries for known card IDs");for(const h of f)m.push({id:h,cardNumber:"1111111111111111",formattedCardNumber:"1111 - 1111 - 1111 - 1111",expirationDate:"11/11",cvv:"119",amount:20,cardType:"Mastercard",status:"pending",createdAt:new Date,updatedAt:new Date,expiresDate:new Date(2025,10,1),collection:"temp",error:"Card created from known ID. Data may be incomplete."});console.log(`Created ${m.length} mock entries for known cards`)}N=m}const j=[...n,...N].sort((m,h)=>h.createdAt.getTime()-m.createdAt.getTime());return console.log(`Combined total: ${j.length} gift cards`),j}catch(p){throw console.error("Error getting all gift cards:",p),p}}async moveCardFromTempToMain(t){try{console.log(`Attempting to move card ${t} from temp to main collection`);const s=_(v,"tempGiftCards",t),a=await F(s);if(!a.exists())throw new Error(`Temporary card ${t} not found`);const o=a.data();console.log("Found temp card data:",{cardType:o.cardType,amount:o.amount,status:o.status});const u={cardNumber:o.cardNumber||"",formattedCardNumber:o.formattedCardNumber||o.cardNumber||"",expirationDate:o.expirationDate||"12/25",cvv:o.cvv||"123",amount:parseInt(o.amount||50,10),cardType:o.cardType||"Visa",gamingBrand:o.gamingBrand||"FanDuel",status:"available",createdAt:y(),updatedAt:y(),expiresDate:o.expiresDate||new Date(2025,11,1),movedFromTemp:!0,originalTempId:t,movedAt:y()};console.log("Adding card to main collection...");const c=await Y(L(v,"giftCards"),u);console.log(`Successfully added card to main collection with ID: ${c.id}`);try{console.log("Attempting to update status in temp collection..."),await M(s,{status:"moved",movedToMainId:c.id,movedAt:y(),updatedAt:y()}),console.log("Successfully updated temp card status to 'moved'")}catch(w){console.warn("Unable to update temp card status due to permissions, but card was added to main collection:",w)}return c.id}catch(s){throw console.error("Error moving card from temp to main:",s),s}}getPlatformCardPreferences(t){const s={fanduel:["GameOn (Visa)","Visa","Mastercard"],draftkings:["GameOn (Visa)","Mastercard","Visa"],betmgm:["GameOn (Visa)","Visa","Mastercard","Discover"],caesars:["GameOn (Visa)","Visa","Mastercard"],espnbet:["GameOn (Visa)","Visa","Mastercard"],fanatics:["GameOn (Visa)","Mastercard","Visa"],fanduelcasino:["GameOn (Visa)","Visa","Mastercard"],draftkingscasino:["GameOn (Visa)","Mastercard","Visa"],betmgmcasino:["GameOn (Visa)","Visa","Mastercard","Discover"],caesarscasino:["GameOn (Visa)","Visa","Mastercard"],underdog:["GameOn (Visa)","Visa","Mastercard"],prizepicks:["GameOn (Visa)","Visa","Mastercard"],betr:["GameOn (Visa)","Visa","Mastercard"],sleeper:["GameOn (Visa)","Visa","Mastercard"],espnfantasy:["GameOn (Visa)","Visa","Mastercard"],draftkingsfantasy:["GameOn (Visa)","Mastercard","Visa"],mcluck:["GameOn (Visa)","Visa","Mastercard"],pulsz:["GameOn (Visa)","Visa","Mastercard"],default:["GameOn (Visa)","Visa","Mastercard","Discover","American Express"]},a=(t==null?void 0:t.toLowerCase().replace(/\s+/g,""))||"default";return s[a]||s.default}validateGiftCardData(t){const{cardNumber:s,expirationDate:a,cvv:o,amount:u,cardType:c,compatiblePlatforms:w}=t,x=String(s).replace(/[^\d]/g,"");if(!/^\d{16}$/.test(x))throw new Error("Card number must be 16 digits");if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(a))throw new Error("Expiration date must be in MM/YY format");if(!/^\d{3,4}$/.test(o))throw new Error("CVV must be 3 or 4 digits");if(isNaN(u)||parseInt(u,10)<=0)throw new Error("Amount must be a positive number");const r=["Visa","Mastercard","Discover","American Express","GameOn (Visa)"];if(!r.includes(c))throw new Error(`Card type must be one of: ${r.join(", ")}`);if(w&&Array.isArray(w)){if(w.length===0)throw new Error("At least one compatible platform must be selected");const g=["fanduel","draftkings","betmgm","caesars","espnbet","fanatics","fanduelcasino","draftkingscasino","betmgmcasino","caesarscasino","underdog","prizepicks","betr","sleeper","espnfantasy","draftkingsfantasy","mcluck","pulsz"],d=w.filter(A=>!g.includes(A.toLowerCase()));d.length>0&&console.warn(`Some platform IDs are not recognized: ${d.join(", ")}, but will be accepted anyway.`)}}}const be=new he,xe=({platform:i,onClose:t})=>{const{currentUser:s}=se(),[a,o]=I.useState(!1),[u,c]=I.useState(!1),[w,x]=I.useState(null),[r,g]=I.useState({purpose:"blackjack-tournament",amount:"20",notes:""}),d=D=>{const{name:p,value:l}=D.target;g({...r,[p]:l})},A=async D=>{var p;D.preventDefault(),o(!0),x(null);try{if(!s)throw new Error("You must be logged in to request a gift card");if((r.amount==="other"||r.purpose==="other")&&!r.notes.trim())throw new Error(r.amount==="other"?"Please specify the requested amount in the notes":"Please specify the purpose in the notes");if(r.amount==="other"){const N=r.notes.match(/\$(\d+)|\$(\d+\.\d{2})|(\d+)\s+dollars|(\d+)/i);if(!N)throw new Error("Please specify a valid dollar amount in the notes (e.g. $50 or 50 dollars)");const j=N[1]||N[2]||N[3]||N[4],m=parseFloat(j);if(isNaN(m)||m<=0||m>1e3)throw new Error("Please enter a valid amount between $1 and $1000")}const f=(await F(_(v,"users",s.uid))).data();if((p=f==null?void 0:f.giftCards)!=null&&p.some(N=>N.platformId===i.id&&N.status!=="used"))throw new Error("You already have an active gift card for this platform");let O=r.amount==="other"?"custom amount":"$"+r.amount,R=r.purpose==="other"?"Custom":r.purpose.replace(/-/g," ");const n=`Are you sure you want to request a ${O} gift card for ${i.name}?

Purpose: ${R}
${r.notes?"Notes: "+r.notes:""}`;if(!window.confirm(n)){o(!1);return}const b={userId:s.uid,userEmail:s.email,userName:(f==null?void 0:f.username)||"Unknown",platformId:i.id,platformName:i.name,platformUrl:i.url||"",purpose:r.purpose,requestedAmount:r.amount,notes:r.notes};console.log("Submitting gift card request with data:",b);const E=await be.createGiftCardRequest(b);console.log("Request created with ID:",E),B.logEvent("gift_card_requested",{platform_id:i.id,platform_name:i.name,amount:r.amount,purpose:r.purpose}),c(!0)}catch(l){console.error("Error requesting gift card:",l),x(l.message)}finally{o(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-b from-indigo-100 to-purple-100 rounded-3xl max-w-md w-full mx-auto relative overflow-hidden",children:[e.jsx("button",{onClick:t,className:"absolute top-4 left-4 z-10 bg-white/80 p-2 rounded-full hover:bg-white transition-colors",children:e.jsx(Q,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(re,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"Request Gift Card"}),e.jsxs("div",{className:"flex items-center mt-2 bg-indigo-50 px-3 py-1 rounded-full",children:[e.jsx("img",{src:i.logo,alt:i.name,className:"w-5 h-5 object-contain mr-2"}),e.jsxs("p",{className:"text-indigo-800 font-medium",children:["For ",i.name]})]})]}),u?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 text-center border border-green-100 shadow-sm",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(oe,{className:"h-8 w-8 text-white"})})}),e.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Request Submitted!"}),e.jsx("p",{className:"text-gray-700 mt-3 leading-relaxed",children:"Your gift card request has been submitted successfully. We'll process it and notify you when it's ready."})]}),e.jsx("button",{onClick:t,className:"w-full py-3.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-[1.02] shadow-md",children:"Close"})]}):e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[w&&e.jsx("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"purpose",className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose"}),e.jsxs("select",{id:"purpose",name:"purpose",value:r.purpose,onChange:d,className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none cursor-pointer text-gray-900 font-medium",required:!0,style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsx("option",{value:"blackjack-tournament",children:"Blackjack Tournament"}),e.jsx("option",{value:"first-time-user",children:"First Time Deposit"}),e.jsx("option",{value:"special-promotion",children:"Weekly Bonus"}),e.jsx("option",{value:"loyalty-reward",children:"Loyalty Reward"}),e.jsx("option",{value:"deposit-issues",children:"Deposit Issues"}),e.jsx("option",{value:"other",children:"Other (specify in notes)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested Amount"}),e.jsxs("select",{id:"amount",name:"amount",value:r.amount,onChange:d,className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none cursor-pointer text-gray-900 font-medium",required:!0,style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsx("option",{value:"20",children:"$20"}),e.jsx("option",{value:"50",children:"$50"}),e.jsx("option",{value:"100",children:"$100"}),e.jsx("option",{value:"other",children:"Other (specify in notes)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:r.amount==="other"||r.purpose==="other"?"Additional Notes (Required)":"Additional Notes (Optional)"}),e.jsx("textarea",{id:"notes",name:"notes",value:r.notes,onChange:d,rows:"3",className:`w-full px-4 py-2 bg-white border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-900 placeholder-gray-600 ${(r.amount==="other"||r.purpose==="other")&&!r.notes?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:r.amount==="other"?"Please specify the amount you are requesting...":r.purpose==="other"?"Please specify the purpose of your request...":"Any specific details about your request...",required:r.amount==="other"||r.purpose==="other"}),(r.amount==="other"||r.purpose==="other")&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.amount==="other"?"Please specify the requested amount in the notes":"Please specify the purpose in the notes"})]}),e.jsx("button",{type:"submit",disabled:a||r.amount==="other"&&!r.notes.trim()||r.purpose==="other"&&!r.notes.trim(),className:`w-full py-3.5 rounded-xl font-medium transition-all duration-200 flex items-center justify-center shadow-md ${a||r.amount==="other"&&!r.notes.trim()||r.purpose==="other"&&!r.notes.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700 hover:scale-[1.02]"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):"Submit Request"})]}),e.jsx("div",{className:"text-center text-sm text-gray-600 pt-4",children:e.jsxs("p",{children:["Gift cards are subject to availability and approval. See our ",e.jsx("a",{href:"#",className:"text-indigo-600 hover:underline",children:"terms and conditions"})," for details."]})})]})]})})},ye=({platform:i,onClose:t})=>{const[s,a]=I.useState(!1),[o,u]=I.useState(!1),c=()=>{if(B.logPlatformVisit(i.id,i.name),i.url){const r=window.open();r&&(r.opener=null,r.location=i.url)}},w=()=>{B.logPlatformConnect(i.id,i.name),a(!0)},x=()=>{B.logEvent("gift_card_request_initiated",{platform_id:i.id,platform_name:i.name}),u(!0)};return e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-gradient-to-b from-purple-100 to-pink-100 rounded-3xl max-w-md w-full mx-auto relative overflow-hidden",children:[e.jsx("button",{onClick:t,className:"absolute top-4 left-4 z-10 bg-white/80 p-2 rounded-full hover:bg-white transition-colors",children:e.jsx(Q,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-8",children:[e.jsx("div",{className:"w-24 h-24 mb-4 flex items-center justify-center",children:e.jsx("img",{src:i.logo,alt:i.name,className:"w-full h-full object-contain rounded-lg",loading:"eager",onError:r=>{if(console.error(`Failed to load platform logo for ${i.name}`),i.imageFile&&!r.target.src.includes(i.imageFile))r.target.src=`/images/${i.imageFile}`;else try{const g=i.name.charAt(0).toUpperCase(),D=`
                        <svg width="100%" height="100%" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="50" cy="50" r="45" fill="${{a:"#ef4444",b:"#3b82f6",c:"#8b5cf6",d:"#22c55e",e:"#f97316",f:"#ef4444",g:"#3b82f6",h:"#8b5cf6",i:"#22c55e",j:"#f97316",k:"#ef4444",l:"#3b82f6",m:"#8b5cf6",n:"#22c55e",o:"#f97316",p:"#ef4444",q:"#3b82f6",r:"#8b5cf6",s:"#22c55e",t:"#f97316",u:"#ef4444",v:"#3b82f6",w:"#8b5cf6",x:"#22c55e",y:"#f97316",z:"#ef4444"}[i.name.charAt(0).toLowerCase()]||"#3b82f6"}" />
                          <text x="50" y="50" text-anchor="middle" dy="0.35em" fill="white" font-size="48" font-weight="bold" font-family="Arial">
                            ${g}
                          </text>
                        </svg>
                      `,p=new Blob([D],{type:"image/svg+xml"});r.target.src=URL.createObjectURL(p)}catch(g){console.error("Failed to create SVG fallback",g),ie(()=>import("./main-Bt21LLck.js").then(d=>d.bv),__vite__mapDeps([0,1])).then(d=>{const D=d.default._getDefaultPlaceholder(i.name);r.target.src=D}).catch(()=>{r.target.style.display="none",r.target.parentNode.innerHTML=`
                          <div class="w-full h-full rounded-lg bg-blue-500 flex items-center justify-center">
                            <span class="text-2xl font-bold text-white">${i.name.charAt(0)}</span>
                          </div>
                        `})}}})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Legal States: ",i.legalStates||"Information not available"]})}),e.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Promotion Details"}),e.jsx("p",{className:"text-gray-700",children:i.promoDetails||"No current promotions"}),i.restrictions&&e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Restrictions"}),e.jsx("p",{className:"text-gray-600 text-sm",children:i.restrictions})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:c,className:`w-full py-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 
                transition-colors duration-200 flex items-center justify-center space-x-2 group`,children:[e.jsxs("span",{children:["Visit ",i.name]}),e.jsx(fe,{className:"h-4 w-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),e.jsxs("button",{onClick:w,className:`w-full py-3 bg-yellow-400 text-gray-900 rounded-xl font-medium 
                hover:bg-yellow-500 transition-colors duration-200`,children:["Connect ",i.name]}),e.jsxs("button",{onClick:x,className:`w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-medium 
                hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 flex items-center justify-center space-x-2`,children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:"Request Gift Card"})]})]}),e.jsx("div",{className:"text-center text-sm text-gray-600 pt-4",children:e.jsx("p",{children:"Responsible Gaming: Please gamble responsibly. If you or someone you know has a gambling problem and wants help, call 1-800-522-4700"})})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",children:e.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-lg mx-4 relative border border-gray-700 shadow-2xl",children:[e.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition-colors",children:e.jsx(Q,{className:"h-6 w-6"})}),e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 bg-yellow-400/10 rounded-full flex items-center justify-center",children:e.jsx(ne,{className:"h-10 w-10 text-yellow-400"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Coming Soon!"}),e.jsxs("p",{className:"text-gray-400 text-lg",children:["Get ready for seamless transactions with ",i.name]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("p",{className:"text-gray-300 text-lg",children:"We're building something special just for you:"}),e.jsxs("ul",{className:"text-gray-300 text-left space-y-3 max-w-md mx-auto",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsxs("span",{children:["Connect your ",i.name," account directly"]})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("span",{children:"Instant deposits with no hassle"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("span",{children:"Lightning-fast withdrawals"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("span",{children:"Track all your gaming activity in one place"})]})]})]}),e.jsx("button",{onClick:()=>a(!1),className:`px-8 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-xl 
                  font-semibold hover:from-yellow-500 hover:to-yellow-600 transition-all duration-200 
                  transform hover:scale-105`,children:"Can't Wait!"})]})]})}),o&&e.jsx(xe,{platform:i,onClose:()=>u(!1)})]})};class we{async saveUserPromoCode(t,s){try{const a=_(v,"users",t);return(await F(a)).exists()?await M(a,{promoCode:s,promoCodeUpdatedAt:new Date}):await J(a,{promoCode:s,promoCodeUpdatedAt:new Date}),console.log(`Promo code ${s} saved for user ${t}`),!0}catch(a){return console.error("Error saving promo code:",a),!1}}async getUserPromoCode(t){try{const s=_(v,"users",t),a=await F(s);return a.exists()&&a.data().promoCode?a.data().promoCode:null}catch(s){return console.error("Error getting promo code:",s),null}}getPlatformUrl(t,s){const a={sportsmillions:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5414&afp={clickid}&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=PLAYBONUS&corid",mcluck:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5356&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid",pulsz:"https://affiliates.pulsz.com/visit/?bta=3035&nci=5348&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid",hellomillions:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5357&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid",crowncoins:"https://crowncoinscasino.com/?landing=direct_su&utm_source=affiliates_seo&utm_content=662608032&utm_campaign=bankroll&utm_medium=bankroll&click_id={click_id}&deal_id=cfca54e2-e98f-4225-932b-80f69267d8b2",realprize:"https://realprize.com/?af=2255&p1=662608032"},o={SPECIALOFFER:{sportsmillions:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5414&afp={clickid}&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=SPECIALOFFER&corid",pulsz:"https://affiliates.pulsz.com/visit/?bta=3035&nci=5348&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=SPECIALOFFER&corid"}};return s&&o[s]&&o[s][t]?o[s][t]:a[t]||""}}const te=new we,ve=()=>{const i=[{name:"@jackson_w",amount:"$5,200",platform:"DraftKings",type:"Big Winner"},{name:"@sarah_m",amount:"$3,750",platform:"FanDuel",type:"Daily Winner"},{name:"@mike_123",amount:"$2,100",platform:"PrizePicks",type:"Recent Winner"},{name:"@emma_r",amount:"$4,500",platform:"Underdog",type:"Top Winner"},{name:"@alex_k",amount:"$1,850",platform:"ESPN Bet",type:"Lucky Winner"},{name:"@chris_b",amount:"$6,300",platform:"BetMGM",type:"Jackpot Winner"},{name:"@lisa_j",amount:"$2,900",platform:"Caesars",type:"Big Winner"},{name:"@david_p",amount:"$3,200",platform:"MyPrize",type:"Recent Winner"}],t=[...i,...i];return e.jsxs("div",{className:"w-full bg-black/30 backdrop-blur-sm border-y border-white/10 py-2 mb-6 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center px-4 pr-6 border-r border-white/20 flex-shrink-0",children:[e.jsx(le,{className:"h-4 w-4 text-yellow-400 mr-2"}),e.jsx("span",{className:"text-white font-semibold text-sm",children:"Winners"})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"ticker-content flex items-center",children:t.map((s,a)=>e.jsxs("div",{className:"flex items-center mx-6 whitespace-nowrap",children:[e.jsxs("span",{className:"text-white/60 text-sm mr-2",children:[s.type,":"]}),e.jsx("span",{className:"text-white font-semibold text-sm",children:s.name}),e.jsx(ce,{className:"h-3 w-3 text-green-400 mx-1"}),e.jsx("span",{className:"text-green-400 font-bold text-sm",children:s.amount}),e.jsxs("span",{className:"text-white/40 text-sm ml-2",children:["on ",s.platform]}),a<t.length-1&&e.jsx("span",{className:"text-white/20 mx-6",children:"â€¢"})]},a))})})]}),e.jsx("style",{jsx:!0,children:`
        .ticker-content {
          animation: scroll 40s linear infinite;
        }
        
        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        
        .ticker-content:hover {
          animation-play-state: paused;
        }
      `})]})};class Ne{constructor(){this.statePermissions={NJ:{level:"full",permissions:["casino","sports_betting","fantasy","poker","sweeps"],bonuses:{casino:{multiplier:1.5,specialOffers:!0},sports:{multiplier:1.3,specialOffers:!0},fantasy:{multiplier:1.2,specialOffers:!1}},features:["enhanced_cashouts","premium_support","exclusive_tournaments"],restrictions:[],ageRequirement:21},PA:{level:"full",permissions:["casino","sports_betting","fantasy","poker","sweeps"],bonuses:{casino:{multiplier:1.4,specialOffers:!0},sports:{multiplier:1.3,specialOffers:!0},fantasy:{multiplier:1.2,specialOffers:!1}},features:["enhanced_cashouts","premium_support","pokerstars_exclusive"],restrictions:[],ageRequirement:21},MI:{level:"full",permissions:["casino","sports_betting","fantasy","poker","sweeps"],bonuses:{casino:{multiplier:1.4,specialOffers:!0},sports:{multiplier:1.3,specialOffers:!0},fantasy:{multiplier:1.1,specialOffers:!1}},features:["enhanced_cashouts","premium_support"],restrictions:[],ageRequirement:21},WV:{level:"full",permissions:["casino","sports_betting","fantasy","sweeps"],bonuses:{casino:{multiplier:1.3,specialOffers:!0},sports:{multiplier:1.2,specialOffers:!0},fantasy:{multiplier:1.1,specialOffers:!1}},features:["enhanced_cashouts"],restrictions:[],ageRequirement:21},NY:{level:"sports_fantasy",permissions:["sports_betting","fantasy","sweeps"],bonuses:{sports:{multiplier:1.3,specialOffers:!0},fantasy:{multiplier:1.4,specialOffers:!0},sweeps:{multiplier:1.1,specialOffers:!1}},features:["enhanced_fantasy_bonuses","draftkings_exclusive"],restrictions:["no_casino"],ageRequirement:18},CO:{level:"sports_fantasy",permissions:["sports_betting","fantasy","sweeps"],bonuses:{sports:{multiplier:1.2,specialOffers:!0},fantasy:{multiplier:1.3,specialOffers:!0}},features:["mountain_timezone_support"],restrictions:["no_casino"],ageRequirement:21},AZ:{level:"sports_fantasy",permissions:["sports_betting","fantasy","sweeps"],bonuses:{sports:{multiplier:1.2,specialOffers:!0},fantasy:{multiplier:1.2,specialOffers:!0}},features:[],restrictions:["no_casino"],ageRequirement:21},IL:{level:"sports_fantasy",permissions:["sports_betting","fantasy","sweeps"],bonuses:{sports:{multiplier:1.2,specialOffers:!0},fantasy:{multiplier:1.3,specialOffers:!0}},features:["enhanced_daily_fantasy"],restrictions:["no_casino"],ageRequirement:21},CA:{level:"fantasy_sweeps",permissions:["fantasy","sweeps"],bonuses:{fantasy:{multiplier:1.5,specialOffers:!0},sweeps:{multiplier:1.3,specialOffers:!0}},features:["california_exclusive","enhanced_fantasy_leagues","prizepicks_premium"],restrictions:["no_casino","no_sports_betting"],ageRequirement:18},TX:{level:"fantasy_sweeps",permissions:["fantasy","sweeps"],bonuses:{fantasy:{multiplier:1.4,specialOffers:!0},sweeps:{multiplier:1.3,specialOffers:!0}},features:["texas_exclusive","enhanced_football_fantasy"],restrictions:["no_casino","no_sports_betting"],ageRequirement:18},FL:{level:"fantasy_sweeps",permissions:["fantasy","sweeps"],bonuses:{fantasy:{multiplier:1.3,specialOffers:!0},sweeps:{multiplier:1.2,specialOffers:!0}},features:["florida_exclusive","enhanced_baseball_fantasy"],restrictions:["no_casino","limited_sports_betting"],ageRequirement:18},WA:{level:"restricted",permissions:["sweeps"],bonuses:{sweeps:{multiplier:.8,specialOffers:!1}},features:[],restrictions:["no_fantasy","no_casino","no_sports_betting"],ageRequirement:18},ID:{level:"restricted",permissions:["sweeps"],bonuses:{sweeps:{multiplier:.8,specialOffers:!1}},features:[],restrictions:["no_fantasy","no_casino","no_sports_betting"],ageRequirement:18},MT:{level:"limited",permissions:["sports_betting","sweeps"],bonuses:{sports:{multiplier:1,specialOffers:!1},sweeps:{multiplier:.9,specialOffers:!1}},features:[],restrictions:["no_fantasy","no_casino"],ageRequirement:18},NV:{level:"limited",permissions:["sports_betting","sweeps"],bonuses:{sports:{multiplier:1.1,specialOffers:!0},sweeps:{multiplier:.9,specialOffers:!1}},features:["las_vegas_exclusive"],restrictions:["no_fantasy","limited_online_casino"],ageRequirement:21}},this.defaultPermissions={level:"standard",permissions:["fantasy","sweeps"],bonuses:{fantasy:{multiplier:1.1,specialOffers:!1},sweeps:{multiplier:1,specialOffers:!1}},features:[],restrictions:["no_casino","no_sports_betting"],ageRequirement:18}}getStatePermissions(t){if(!t)return this.defaultPermissions;const s=t.toUpperCase();return this.statePermissions[s]||this.defaultPermissions}isPromoAllowed(t,s){return this.getStatePermissions(t).permissions.includes(s)}getBonusMultiplier(t,s){var o;return((o=this.getStatePermissions(t).bonuses[s])==null?void 0:o.multiplier)||1}hasSpecialOffers(t,s){var o;return((o=this.getStatePermissions(t).bonuses[s])==null?void 0:o.specialOffers)||!1}getAvailableFeatures(t){return this.getStatePermissions(t).features||[]}getRestrictions(t){return this.getStatePermissions(t).restrictions||[]}getAgeRequirement(t){return this.getStatePermissions(t).ageRequirement||18}getPromotionalLevel(t){return this.getStatePermissions(t).level||"standard"}calculateEnhancedBonus(t,s,a){const o=this.getBonusMultiplier(t,s);return Math.round(a*o)}getPromotionalMessage(t){const a=this.getStatePermissions(t).level,o={full:"Enjoy full access to all platforms and enhanced bonuses!",sports_fantasy:"Enhanced sports betting and fantasy sports bonuses available!",fantasy_sweeps:"Enhanced fantasy sports and sweeps casino bonuses!",limited:"Limited platform access with select bonuses available.",restricted:"Limited platform access due to state regulations.",standard:"Standard fantasy sports and sweeps casino access available."};return o[a]||o.standard}getAvailablePlatforms(t){const s=this.getStatePermissions(t);return{casino:{available:s.permissions.includes("casino"),enhanced:this.hasSpecialOffers(t,"casino"),multiplier:this.getBonusMultiplier(t,"casino")},sports_betting:{available:s.permissions.includes("sports_betting"),enhanced:this.hasSpecialOffers(t,"sports_betting"),multiplier:this.getBonusMultiplier(t,"sports_betting")},fantasy:{available:s.permissions.includes("fantasy"),enhanced:this.hasSpecialOffers(t,"fantasy"),multiplier:this.getBonusMultiplier(t,"fantasy")},poker:{available:s.permissions.includes("poker"),enhanced:this.hasSpecialOffers(t,"poker"),multiplier:this.getBonusMultiplier(t,"poker")},sweeps:{available:s.permissions.includes("sweeps"),enhanced:this.hasSpecialOffers(t,"sweeps"),multiplier:this.getBonusMultiplier(t,"sweeps")}}}}const V=new Ne,Ce=()=>{const{currentState:i,formatLocationDisplay:t,hasLocation:s}=ae();if(!s||!i)return null;const a=V.getStatePermissions(i),o=V.getAvailablePlatforms(i),u=V.getAvailableFeatures(i),c=V.getRestrictions(i),w=V.getPromotionalMessage(i),x=g=>{switch(g){case"full":return"from-green-500 to-emerald-600";case"sports_fantasy":return"from-blue-500 to-indigo-600";case"fantasy_sweeps":return"from-purple-500 to-violet-600";case"limited":return"from-yellow-500 to-orange-600";case"restricted":return"from-red-500 to-rose-600";default:return"from-gray-500 to-slate-600"}},r=g=>{switch(g){case"full":return e.jsx(K,{className:"h-5 w-5"});case"sports_fantasy":return e.jsx(ee,{className:"h-5 w-5"});case"fantasy_sweeps":return e.jsx(ee,{className:"h-5 w-5"});case"limited":return e.jsx(W,{className:"h-5 w-5"});case"restricted":return e.jsx(W,{className:"h-5 w-5"});default:return e.jsx(de,{className:"h-5 w-5"})}};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`bg-gradient-to-r ${x(a.level)} p-4 text-white`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[r(a.level),e.jsxs("h3",{className:"text-lg font-semibold",children:[t()," Promotions"]})]}),e.jsx("div",{className:"text-sm font-medium bg-white/20 rounded-full px-3 py-1",children:a.level.toUpperCase().replace("_"," ")})]}),e.jsx("p",{className:"text-sm mt-2 text-white/90",children:w})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Available Platforms"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(o).map(([g,d])=>e.jsxs("div",{className:`p-2 rounded-lg border text-sm ${d.available?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-900 dark:text-green-200":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 dark:text-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium capitalize",children:g.replace("_"," ")}),d.available&&d.enhanced&&e.jsx(K,{className:"h-3 w-3 text-yellow-500"})]}),d.available&&d.multiplier!==1&&e.jsx("div",{className:"text-xs mt-1",children:d.multiplier>1?`${Math.round((d.multiplier-1)*100)}% bonus boost`:`${Math.round((1-d.multiplier)*100)}% reduced`})]},g))})]}),u.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Special Features"}),e.jsx("div",{className:"space-y-1",children:u.map((g,d)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(K,{className:"h-3 w-3 text-yellow-500 mr-2 flex-shrink-0"}),e.jsx("span",{className:"capitalize",children:g.replace(/_/g," ")})]},d))})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Restrictions"}),e.jsx("div",{className:"space-y-1",children:c.map((g,d)=>e.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[e.jsx(W,{className:"h-3 w-3 mr-2 flex-shrink-0"}),e.jsx("span",{className:"capitalize",children:g.replace(/_/g," ")})]},d))})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center text-sm text-blue-900 dark:text-blue-200",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Age Requirement: ",a.ageRequirement,"+ years old"]})]})})]})]})},Pe=()=>{const[i,t]=I.useState("SWEEPS CASINO"),[s,a]=I.useState(null),[o,u]=I.useState(null),{currentUser:c}=se(),{isDark:w}=me(),{currentState:x,formatLocationDisplay:r,hasLocation:g}=ae();I.useEffect(()=>{(async()=>{if(c!=null&&c.uid){const f=await te.getUserPromoCode(c.uid);u(f),console.log("User promo code loaded:",f)}})()},[c]);const d=[{id:"ALL",label:"ALL"},{id:"FANTASY",label:"FANTASY"},{id:"SWEEPS CASINO",label:"SWEEPS CASINO"},{id:"CASINO",label:"CASINO"},{id:"SPORTS BETTING",label:"SPORTS BETTING"},{id:"POKER",label:"POKER"}],A=[{id:"prizepicks",name:"PrizePicks (18+)",category:"FANTASY",logo:"/images/prizepicks.png",legalStates:"AK, CA, FL, GA, IL, KS, KY, MN, NE, NM, NC, OK, OR, RI, SC, SD, TX, UT, VT, WI, WY",promoDetails:"Get 100% deposit match up to $100",restrictions:"First-time users only. Must be 18+",url:"https://app.prizepicks.com/sign-up?invite_code=WINDAILY"},{id:"draftkings",name:"DraftKings Fantasy (18+)",category:"FANTASY",logo:"/images/draftkingsFantasy.png",legalStates:"Most US states",promoDetails:"New user bonus available",restrictions:"New users only. Must be 18+",url:"https://dkdfs.sng.link/Avkw3/ejal?_dl=draftkings%3A%2F%2Fgateway%3Fs%3D199744492&pcid=357597&psn=2003&pcn=xx&pscn=xx&pcrn=WDS&pscid=DFS&pcrid=xx&wpcid=357597&wpsrc=2003&wpcn=xx&wpscn=xx&wpcrn=WDS&wpscid=DFS&wpcrid=xx&_forward_params=1"},{id:"fanduel-fantasy",name:"FanDuel Fantasy (18+)",category:"FANTASY",logo:"/images/fanduel.png",legalStates:"Most US states",promoDetails:"Special signup bonus",restrictions:"New users only. Must be 18+",url:"https://wlfanduelus.adsrv.eacdn.com/C.ashx?btag=a_15755b_56c_&affid=11359&siteid=15755&adid=56&c="},{id:"underdog",name:"Underdog Fantasy (18+)",category:"FANTASY",logo:"/images/underdog.jpeg",legalStates:"Most US states",promoDetails:"Special welcome bonus",restrictions:"New users only. Must be 18+",url:"https://play.underdogfantasy.com/p-win-daily-sports"},{id:"sportsmillions",name:"Sports Millions (18+)",category:"SWEEPS CASINO",logo:"/images/default.png",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5414&afp={clickid}&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=PLAYBONUS&corid"},{id:"mcluck",name:"McLuck (18+)",category:"SWEEPS CASINO",logo:"/images/mcluck.png",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5356&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid"},{id:"pulsz",name:"Pulsz (18+)",category:"SWEEPS CASINO",logo:"/images/pulsz.png",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://affiliates.pulsz.com/visit/?bta=3035&nci=5348&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid"},{id:"hellomillions",name:"Hello Millions (18+)",category:"SWEEPS CASINO",logo:"/images/hellomillions.png",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://tracking.b2-partners.com/visit/?bta=3035&nci=5357&afp1=662608032&utm_campaign=lhr&utm_creative=662608032&referred_by=BANKROLL&corid"},{id:"crowncoins",name:"Crown Coins (18+)",category:"SWEEPS CASINO",logo:"/images/crowncoins.png",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://crowncoinscasino.com/?landing=direct_su&utm_source=affiliates_seo&utm_content=662608032&utm_campaign=bankroll&utm_medium=bankroll&click_id={click_id}&deal_id=cfca54e2-e98f-4225-932b-80f69267d8b2"},{id:"realprize",name:"RealPrize (18+)",category:"SWEEPS CASINO",logo:"/images/realprize.webp",legalStates:"Available in most US states",promoDetails:"Get free sweeps coins on signup",restrictions:"Must be 18+",url:"https://realprize.com/?af=2255&p1=662608032"},{id:"myprize",name:"MyPrize Casino (18+)",category:"CASINO",logo:"/images/MyPrize.png",legalStates:"Available in most US states",promoDetails:"Get 5000 free coins on signup",restrictions:"Must be 18+",url:"https://myprize.us/invite/bankroll"},{id:"betmgm",name:"BetMGM Casino (21+)",category:"CASINO",logo:"/images/betmgm.png",legalStates:"MI, NJ, PA, WV",promoDetails:"100% deposit match up to $1000 + $25 free play",restrictions:"New customers only. Must be 21+",url:"https://mediaserver.betmgmpartners.com/renderBanner.do?zoneId=1728250"},{id:"caesarspalace",name:"Caesars Casino (21+)",category:"CASINO",logo:"/images/caesarsCasino.png",legalStates:"MI, NJ, PA, WV",promoDetails:"100% deposit match up to $1000 + $10 free",restrictions:"New users only. Must be 21+",url:"https://wlwilliamhillus.adsrv.eacdn.com/C.ashx?btag=a_13325b_2658c_&affid=450&siteid=13325&adid=2658&c="},{id:"pokerstars",name:"PokerStars Casino (21+)",category:"CASINO",logo:"/images/pokerstars.png",legalStates:"MI, NJ, PA",promoDetails:"$50 free play with first deposit",restrictions:"New players only. Must be 21+",url:"https://star-casino.pxf.io/c/3732491/1574555/14251"},{id:"bet365",name:"Bet365 Casino (21+)",category:"CASINO",logo:"/images/bet365.png",legalStates:"NJ, CO, OH, VA, IA, KY",promoDetails:"Bet $1, Get $365 in Bonus Bets",restrictions:"New players only. Must be 21+",url:"https://casino.bet365.com/opening-bonus?affiliate=365_01276644"},{id:"wsop-casino",name:"WSOP Casino (21+)",category:"CASINO",logo:"/images/WSOP.png",legalStates:"MI, NJ, PA",promoDetails:"Special welcome bonus for new players",restrictions:"New players only. Must be 21+",url:"https://www.wsop.com/casino/"},{id:"wsop-poker",name:"WSOP Poker (21+)",category:"POKER",logo:"/images/WSOP.png",legalStates:"MI, NJ, PA",promoDetails:"Special poker welcome package",restrictions:"New players only. Must be 21+",url:"https://www.wsop.com/poker/"}],D=l=>{if(B.logPlatformView(l.id,l.name,l.category),o&&l.id){const f=te.getPlatformUrl(l.id,o);f&&(l={...l,url:f})}a(l)};let p=i==="ALL"?A:A.filter(l=>l.category===i);return g&&x&&(p=p.filter(l=>{const f=V.getAvailablePlatforms(x);switch(l.category){case"CASINO":return f.casino.available;case"SPORTS BETTING":return f.sports_betting.available;case"FANTASY":return f.fantasy.available;case"POKER":return f.poker.available;case"SWEEPS CASINO":return f.sweeps.available;default:return!0}})),e.jsxs("div",{className:"min-h-screen p-4 md:p-6",children:[e.jsx(ve,{}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Discover Apps"}),e.jsx("p",{className:"text-sm mt-1 text-white/80",children:"Earn rewards on your favorite platforms"})]}),g&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Location:"}),e.jsx("div",{className:"text-sm font-medium text-white",children:r()})]})]})}),g&&x&&e.jsx("div",{className:"mb-6",children:e.jsx(Ce,{})}),e.jsx("div",{className:"mb-6 -mx-4 px-4 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex md:flex-wrap gap-2 overflow-x-auto scrollbar-hide pb-2",children:d.map(l=>e.jsx("button",{onClick:()=>t(l.id),className:`
                px-4 md:px-6 py-2 rounded-full text-xs md:text-sm font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0
                ${i===l.id?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-lg":"bg-black/30 backdrop-blur-sm text-white hover:bg-black/40 border border-white/10"}
              `,children:l.label},l.id))})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4",children:p.map(l=>e.jsx(ue,{className:`hover:shadow-lg transition-all duration-200 cursor-pointer
              ${l.id==="myprize"?"bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 border-0":"bg-black/20 backdrop-blur-sm border border-white/10 hover:border-white/30 hover:bg-black/30"}`,onClick:()=>D(l),children:e.jsxs(pe,{className:"p-4 md:p-6 flex flex-col items-center justify-center min-h-[140px] md:min-h-[200px]",children:[e.jsx("div",{className:`w-16 h-16 md:w-24 md:h-24 mb-3 md:mb-4 relative ${l.id==="myprize"?"bg-yellow-300/20 rounded-xl p-1 md:p-2":""}`,children:e.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full object-contain rounded-lg",onError:f=>{const O=f.currentTarget.parentNode;if(O){const R=document.createElement("div");R.className="w-16 h-16 md:w-24 md:h-24 bg-gray-200 md:bg-gray-700 rounded-full flex items-center justify-center",R.innerHTML=`<span class="text-lg md:text-xl font-bold text-gray-400">${l.name.charAt(0)}</span>`,O.replaceChild(R,f.currentTarget)}}})}),e.jsx("h3",{className:`text-center font-medium text-xs md:text-sm ${l.id==="myprize"?"text-gray-900":w?"text-white":"text-gray-900"}`,children:l.name})]})},l.id))}),s&&e.jsx(ye,{platform:s,onClose:()=>a(null)}),e.jsx("div",{className:`mt-8 text-center text-xs md:text-sm px-4 ${w?"text-gray-400":"text-gray-600"}`,children:"Responsible Gaming: Please gamble responsibly. If you or someone you know has a gambling problem and wants help, call 1-800-522-4700"})]})};export{Pe as default};
