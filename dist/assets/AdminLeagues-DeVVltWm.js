import{d as U,r as l,ac as P,j as e,R as E,T as g,U as y,D as z,ae as w,I,m as V,af as G,C as Q,v as q,c as B}from"./main-Bt21LLck.js";import{A as H}from"./AdminLayout-rotzS5VH.js";import{A as W}from"./activity-rhRbEMqz.js";import{P as J}from"./plus-Dh4NC-lY.js";import{E as K}from"./ellipsis-vertical-CNMPpEyx.js";import{C as O}from"./crown-Cov5wCPn.js";import{C as X}from"./circle-check-big-PbtGHC_l.js";import{A as Y}from"./arrow-down-right-DEPCSBqA.js";import{A as Z}from"./arrow-up-right-DQDCwTvG.js";import{U as ee}from"./user-plus-Dirox3Wp.js";import{S as te}from"./square-pen-DghG-Vv-.js";import{f as N}from"./format-DptKEVlR.js";import"./menu-BIlVz3CF.js";import"./receipt-f3vxt5FE.js";import"./log-out-D1nti5kR.js";const be=()=>{const{isDark:t}=U(),[d,u]=l.useState(!0),[v,$]=l.useState([]),[_,k]=l.useState(null),[se,L]=l.useState(null),[p,C]=l.useState(""),[m,S]=l.useState("all"),[x,A]=l.useState({totalLeagues:0,activeLeagues:0,totalUsers:0,totalFunds:0,fantasyLeagues:0}),c=[{id:"1",name:"High Rollers Fantasy League",type:"fantasy",platform:"sleeper",status:"active",created_at:new Date("2024-09-01"),member_count:12,pot_size:2400,entry_fee:200,admin:{id:"1",username:"commish_mike",email:"mike@example.com"},settings:{max_members:12,scoring_type:"PPR",playoff_teams:6,trade_deadline:"2024-11-15"},members:[{id:"1",username:"commish_mike",role:"admin",paid:!0,balance:200,wins:8,losses:2,rank:1},{id:"2",username:"fantasy_guru",role:"member",paid:!0,balance:200,wins:7,losses:3,rank:2},{id:"3",username:"touchdown_king",role:"member",paid:!0,balance:200,wins:6,losses:4,rank:3},{id:"4",username:"gridiron_legend",role:"member",paid:!0,balance:200,wins:5,losses:5,rank:4},{id:"5",username:"rookie_sensation",role:"member",paid:!1,balance:0,wins:4,losses:6,rank:5}],transactions:[{id:"1",type:"entry_fee",amount:200,user:"fantasy_guru",date:new Date("2024-09-02"),status:"completed"},{id:"2",type:"payout",amount:1200,user:"commish_mike",date:new Date("2024-01-15"),status:"pending"},{id:"3",type:"entry_fee",amount:200,user:"touchdown_king",date:new Date("2024-09-03"),status:"completed"}],winners:[{year:2023,username:"fantasy_guru",payout:1200},{year:2022,username:"commish_mike",payout:1e3},{year:2021,username:"touchdown_king",payout:800}]},{id:"2",name:"Crypto Traders Group",type:"investment",platform:"custom",status:"active",created_at:new Date("2024-10-01"),member_count:25,pot_size:5e4,entry_fee:2e3,admin:{id:"6",username:"crypto_master",email:"crypto@example.com"},settings:{max_members:50,min_investment:1e3,profit_share:"80/20",withdrawal_period:"monthly"},members:[{id:"6",username:"crypto_master",role:"admin",paid:!0,balance:15e3,profit:3e3},{id:"7",username:"btc_believer",role:"member",paid:!0,balance:5e3,profit:1e3},{id:"8",username:"eth_enthusiast",role:"member",paid:!0,balance:3e3,profit:600},{id:"9",username:"defi_degen",role:"member",paid:!0,balance:2e3,profit:-200}],transactions:[{id:"4",type:"deposit",amount:5e3,user:"btc_believer",date:new Date("2024-10-05"),status:"completed"},{id:"5",type:"withdrawal",amount:1e3,user:"eth_enthusiast",date:new Date("2024-11-01"),status:"processing"},{id:"6",type:"profit_share",amount:3e3,user:"crypto_master",date:new Date("2024-11-15"),status:"completed"}]},{id:"3",name:"March Madness Pool",type:"tournament",platform:"custom",status:"completed",created_at:new Date("2024-03-01"),member_count:64,pot_size:6400,entry_fee:100,admin:{id:"10",username:"bracket_boss",email:"brackets@example.com"},settings:{max_members:100,scoring_system:"standard",payout_structure:"60/30/10"},winners:[{place:1,username:"upset_picker",payout:3840},{place:2,username:"chalk_master",payout:1920},{place:3,username:"cinderella_story",payout:640}]}];l.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0),$(c);const s={totalLeagues:c.length,activeLeagues:c.filter(r=>r.status==="active").length,totalUsers:c.reduce((r,i)=>r+i.member_count,0),totalFunds:c.reduce((r,i)=>r+i.pot_size,0),fantasyLeagues:c.filter(r=>r.type==="fantasy").length};A(s)}catch(s){console.error("Error loading leagues:",s),P.error("Failed to load leagues")}finally{u(!1)}},b=v.filter(s=>{const r=s.name.toLowerCase().includes(p.toLowerCase())||s.admin.username.toLowerCase().includes(p.toLowerCase()),i=m==="all"||m==="active"&&s.status==="active"||m==="inactive"&&s.status!=="active"||m==="fantasy"&&s.type==="fantasy";return r&&i}),D=s=>{switch(s){case"fantasy":return w;case"investment":return V;case"tournament":return g;default:return y}},M=s=>{switch(s){case"fantasy":return"purple";case"investment":return"green";case"tournament":return"yellow";default:return"blue"}},T=s=>{switch(s){case"active":return t?"text-green-400":"text-green-600";case"completed":return t?"text-gray-400":"text-gray-600";case"pending":return t?"text-yellow-400":"text-yellow-600";default:return t?"text-gray-400":"text-gray-600"}},n=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),F=({league:s})=>{var f,j;const r=_===s.id,i=D(s.type),o=M(s.type);return e.jsxs("div",{className:`rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm overflow-hidden`,children:[e.jsx("div",{onClick:()=>k(r?null:s.id),className:`p-6 cursor-pointer transition-colors ${t?"hover:bg-gray-750":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${o}-100 dark:bg-${o}-900/30`,children:e.jsx(i,{className:`w-8 h-8 text-${o}-600 dark:text-${o}-400`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsx("span",{className:`text-sm capitalize ${T(s.status)}`,children:s.status}),e.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[s.member_count," members"]}),e.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[n(s.pot_size)," pot"]})]}),e.jsxs("p",{className:"text-sm mt-2 text-gray-500",children:["Admin: ",s.admin.username," • Created ",N(s.created_at,"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),L(s)},className:`p-2 rounded-lg transition-colors ${t?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(K,{className:"w-5 h-5"})}),r?e.jsx(G,{className:"w-5 h-5"}):e.jsx(Q,{className:"w-5 h-5"})]})]})}),r&&e.jsxs("div",{className:`border-t ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("div",{className:`grid grid-cols-4 gap-4 p-4 ${t?"bg-gray-750":"bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:s.member_count}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Total Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n(s.pot_size)}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Total Pot"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n(s.entry_fee)}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Entry Fee"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${((f=s.members)==null?void 0:f.filter(a=>a.paid).length)===s.member_count?t?"text-green-400":"text-green-600":t?"text-yellow-400":"text-yellow-600"}`,children:[((j=s.members)==null?void 0:j.filter(a=>a.paid).length)||0,"/",s.member_count]}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Paid Members"})]})]}),s.members&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:"League Members"}),e.jsx("button",{className:`text-sm ${t?"text-purple-400":"text-purple-600"}`,children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:s.members.slice(0,5).map(a=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${a.role==="admin"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-gray-200 dark:bg-gray-600"}`,children:a.role==="admin"?e.jsx(O,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}):e.jsx(y,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:[a.username,a.rank&&` • Rank #${a.rank}`]}),s.type==="fantasy"&&a.wins!==void 0&&e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[a.wins,"W - ",a.losses,"L"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a.paid?e.jsx(X,{className:"w-5 h-5 text-green-500"}):e.jsx(q,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:n(a.balance||0)})]})]},a.id))})]}),s.transactions&&s.transactions.length>0&&e.jsxs("div",{className:`p-6 border-t ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:"Recent Transactions"}),e.jsx("button",{className:`text-sm ${t?"text-purple-400":"text-purple-600"}`,children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:s.transactions.slice(0,3).map(a=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${a.type==="entry_fee"||a.type==="deposit"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:a.type==="entry_fee"||a.type==="deposit"?e.jsx(Y,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):e.jsx(Z,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:a.user}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:a.type.replace("_"," ").charAt(0).toUpperCase()+a.type.replace("_"," ").slice(1)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-medium ${a.type==="entry_fee"||a.type==="deposit"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[a.type==="entry_fee"||a.type==="deposit"?"+":"-",n(a.amount)]}),e.jsx("p",{className:"text-xs text-gray-500",children:N(a.date,"MMM d")})]})]},a.id))})]}),s.type==="fantasy"&&s.winners&&s.winners.length>0&&e.jsxs("div",{className:`p-6 border-t ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h4",{className:`font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Past Champions"}),e.jsx("div",{className:"space-y-2",children:s.winners.map((a,R)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:e.jsx(g,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:a.username}),e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[a.year," Champion"]})]})]}),e.jsx("span",{className:`font-medium ${t?"text-green-400":"text-green-600"}`,children:n(a.payout)})]},R))})]}),e.jsxs("div",{className:`flex gap-3 p-6 border-t ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("button",{className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(ee,{className:"w-4 h-4"}),"Add Member"]}),e.jsxs("button",{className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(B,{className:"w-4 h-4"}),"Send Funds"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors bg-purple-600 text-white hover:bg-purple-700",children:[e.jsx(te,{className:"w-4 h-4"}),"Manage League"]})]})]})]})};return e.jsx(H,{activeTab:"leagues",children:e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"League Management"}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Manage groups, fantasy leagues, and member funds"})]}),e.jsxs("button",{onClick:h,disabled:d,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"} ${d?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(E,{className:`w-4 h-4 ${d?"animate-spin":""}`}),d?"Refreshing...":"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(g,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${t?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600"}`,children:"Total"})]}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:x.totalLeagues}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Leagues"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(W,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${t?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600"}`,children:"Active"})]}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:x.activeLeagues}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Active Now"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(y,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:x.totalUsers}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Total Members"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(z,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:n(x.totalFunds)}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Total Funds"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-sm`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(w,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:x.fantasyLeagues}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Fantasy Leagues"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`}),e.jsx("input",{type:"text",placeholder:"Search leagues, admins...",value:p,onChange:s=>C(s.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg ${t?"bg-gray-800 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} border ${t?"border-gray-700":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),e.jsx("div",{className:"flex gap-2",children:["all","active","inactive","fantasy"].map(s=>e.jsx("button",{onClick:()=>S(s),className:`px-4 py-2 rounded-lg capitalize transition-colors ${m===s?"bg-purple-600 text-white":t?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"}`,children:s},s))}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-purple-600 text-white hover:bg-purple-700",children:[e.jsx(J,{className:"w-4 h-4"}),"Create League"]})]}),d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-purple-600"})}):e.jsxs("div",{className:"space-y-4",children:[b.map(s=>e.jsx(F,{league:s},s.id)),b.length===0&&e.jsxs("div",{className:`text-center py-12 rounded-xl ${t?"bg-gray-800":"bg-white"}`,children:[e.jsx(g,{className:`w-12 h-12 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-lg font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"No leagues found"}),e.jsx("p",{className:"text-sm mt-1 text-gray-500",children:"Try adjusting your search or filters"})]})]})]})})})};export{be as default};
